{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"vscode\"","webpack:///./src/util/index.ts","webpack:///./src/api.ts","webpack:///./src/util/fetch.ts","webpack:///./src/util/func.ts","webpack:///./src/util/context.ts","webpack:///./src/commands.ts","webpack:///./src/extension.ts","webpack:///./src/github1sfs.ts","webpack:///./node_modules/json-stable-stringify/index.js","webpack:///./node_modules/jsonify/index.js","webpack:///./node_modules/jsonify/lib/parse.js","webpack:///./node_modules/jsonify/lib/stringify.js","webpack:///./node_modules/p-finally/index.js","webpack:///./node_modules/js-base64/base64.mjs","webpack:///./src/settings-view.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","fetch","reuseable","throttle","getExtensionContext","setExtensionContext","noop","trimStart","str","chars","index","indexOf","slice","trimEnd","length","joinPath","segments","reduce","prev","segment","id","dirname","path","trimmedPath","substr","lastIndexOf","uniqueId","prop","obj","cur","forEach","undefined","getNonce","text","possible","charAt","Math","floor","random","getWebviewOptions","extensionUri","enableScripts","localResourceRoots","vscode","Uri","parseUri","uri","owner","repo","branch","authority","split","filter","Boolean","handleRequestError","error","RequestRateLimitError","token","FileSystemError","NoPermissions","RequestInvalidTokenError","RequestNotFoundError","FileNotFound","Unavailable","message","readGitHubDirectory","state","replace","catch","readGitHubFile","fileSha","validateToken","authHeaders","Authorization","self","headers","then","response","valid","status","limit","remaining","reset","throttledReportNetworkError","RequestError","Error","super","setPrototypeOf","this","window","showErrorMessage","url","options","context","globalState","getGitHubAuthToken","customHeaders","json","data","defaultComputeCacheKey","args","jsonStableStringify","func","computeCacheKey","cache","Map","has","promise","set","pFinally","delete","interval","timer","setTimeout","extensionContext","_extensionContext","commandValidateToken","silent","oAuthToken","tokenStatus","showInformationMessage","showWarningMessage","commandUpdateToken","showInputBox","placeHolder","update","commands","executeCommand","commandClearToken","modal","choose","subscriptions","push","GitHub1sFS","registerWebviewViewProvider","SettingsView","viewType","registerCommand","File","type","FileType","ctime","Date","now","mtime","sha","size","Directory","entries","_emitter","EventEmitter","root","onDidChangeFile","event","readDirectory","_lookupAsDirectory","parent","res","Array","from","values","map","item","Promise","resolve","tree","fileType","toString","readFile","_lookupAsFile","file","blob","content","disposable","Disposable","workspace","registerFileSystemProvider","scheme","isCaseSensitive","isReadonly","dispose","parts","entry","with","part","child","_lookup","FileNotADirectory","FileIsADirectory","_dirname","oldUri","newUri","source","destination","JSON","opts","cmp","space","join","f","cycles","replacer","node","a","b","aobj","bobj","seen","stringify","level","indent","colonSeparator","toJSON","isArray","out","TypeError","keys","objectKeys","sort","keyValue","splice","x","parse","at","ch","escapee","next","number","string","isFinite","hex","uffff","parseInt","String","fromCharCode","white","array","word","reviver","result","walk","holder","k","v","gap","rep","escapable","meta","quote","lastIndex","test","charCodeAt","partial","mind","apply","async","onFinally","version","VERSION","_hasatob","atob","_hasbtoa","btoa","_hasBuffer","Buffer","_TD","TextDecoder","_TE","TextEncoder","b64chs","b64tab","tab","b64re","_fromCC","_U8Afrom","Uint8Array","it","fn","_mkUriSafe","src","m0","_tidyB64","btoaPolyfill","bin","u32","c0","c1","c2","asc","pad","substring","_btoa","_fromUint8Array","u8a","strs","subarray","fromUint8Array","urlsafe","cb_utob","cc","re_utob","utob","u","_encode","encode","encodeURI","re_btou","cb_btou","cccc","offset","btou","atobPolyfill","u24","r1","r2","_atob","_toUint8Array","toUint8Array","_unURI","_decode","decode","isValid","_noEnum","writable","configurable","extendString","_add","body","extendUint8Array","extendBuiltins","gBase64","fromBase64","toBase64","encodeURL","webviewView","_webviewView","webview","html","_getHtmlForWebview","onDidReceiveMessage","handleValidateToken","payload","handleUpdateToken","cleared","updateWebviewState","pageType","validating","oauthToken","postMessage","nonce"],"mappings":"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","file":"extension.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n","module.exports = require(\"vscode\");","/**\n * @file common util\n * @author netcon\n */\n\nimport * as vscode from 'vscode';\nexport { fetch } from './fetch';\nexport { reuseable, throttle } from './func';\nexport { getExtensionContext, setExtensionContext } from './context';\n\nexport const noop = () => { };\n\nexport const trimStart = (str: string, chars: string = ' '): string => {\n\tlet index = 0;\n\twhile (chars.indexOf(str[index]) !== -1) {\n\t\tindex++;\n\t}\n\treturn str.slice(index);\n};\n\nexport const trimEnd = (str: string, chars: string = ' '): string => {\n\tlet length = str.length;\n\twhile (length && chars.indexOf(str[length - 1]) !== -1) {\n\t\tlength--;\n\t}\n\treturn str.slice(0, length);\n};\n\nexport const joinPath = (...segments: string[]): string => {\n\tif (!segments.length) {\n\t\treturn '';\n\t}\n\n\treturn segments.reduce((prev, segment) => {\n\t\treturn trimEnd(prev, '/') + '/' + trimStart(segment, '/');\n\t});\n};\n\nexport const dirname = (path: string): string => {\n\tconst trimmedPath = trimEnd(path, '/');\n\treturn trimmedPath.substr(0, trimmedPath.lastIndexOf('/')) || '';\n};\n\nexport const uniqueId = (id => () => id++)(1);\n\nexport const prop = (obj: object, path: (string | number)[] = []): any => {\n\tlet cur = obj;\n\tpath.forEach(key => (cur = (cur ? cur[key] : undefined)));\n\treturn cur;\n};\n\nexport const getNonce = (): string => {\n\tlet text: string = '';\n\tconst possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n\tfor (let i = 0; i < 32; i++) {\n\t\ttext += possible.charAt(Math.floor(Math.random() * possible.length));\n\t}\n\treturn text;\n};\n\nexport const getWebviewOptions = (extensionUri: vscode.Uri): vscode.WebviewOptions => {\n\treturn {\n\t\t// Enable javascript in the webview\n\t\tenableScripts: true,\n\t\t// And restrict the webview to only loading content from our extension's `assets` directory.\n\t\tlocalResourceRoots: [vscode.Uri.joinPath(extensionUri, 'assets')]\n\t};\n};\n","/**\n * @file GitHub1s APIs\n * @author netcon\n */\n\nimport * as vscode from 'vscode';\nimport { fetch, RequestError, RequestRateLimitError, RequestInvalidTokenError, RequestNotFoundError, throttledReportNetworkError } from './util/fetch';\n\ninterface UriState {\n\towner: string;\n\trepo: string;\n\tbranch: string;\n\tpath: string;\n}\n\nconst parseUri = (uri: vscode.Uri): UriState => {\n\tconst [owner, repo, branch] = (uri.authority || '').split('+').filter(Boolean);\n\treturn {\n\t\towner,\n\t\trepo,\n\t\tbranch,\n\t\tpath: uri.path,\n\t};\n};\n\nconst handleRequestError = (error: RequestError) => {\n\tif (error instanceof RequestRateLimitError) {\n\t\tif (!error.token) {\n\t\t\tthrow vscode.FileSystemError.NoPermissions('API Rate Limit Exceeded, Please Offer an OAuth Token.');\n\t\t}\n\t\tthrow vscode.FileSystemError.NoPermissions('API Rate Limit Exceeded, Please Change Another OAuth Token.');\n\t}\n\tif (error instanceof RequestInvalidTokenError) {\n\t\tthrow vscode.FileSystemError.NoPermissions('Current OAuth Token Is Invalid, Please Change Another One.');\n\t}\n\tif (error instanceof RequestNotFoundError) {\n\t\tthrow vscode.FileSystemError.NoPermissions('Current OAuth Token Is Invalid, Please Change Another One.');\n\t}\n\tif (error instanceof RequestNotFoundError) {\n\t\tthrow vscode.FileSystemError.FileNotFound('GitHub Resource Not Found');\n\t}\n\tthrow vscode.FileSystemError.Unavailable(error.message || 'Unknown Error Occurred When Request To GitHub');\n};\n\nexport const readGitHubDirectory = (uri: vscode.Uri) => {\n\tconst state: UriState = parseUri(uri);\n\treturn fetch(`https://api.github.com/repos/${state.owner}/${state.repo}/git/trees/${state.branch}${state.path.replace(/^\\//, ':')}`)\n\t\t.catch(handleRequestError);\n};\n\nexport const readGitHubFile = (uri: vscode.Uri, fileSha: string) => {\n\tconst state: UriState = parseUri(uri);\n\treturn fetch(`https://api.github.com/repos/${state.owner}/${state.repo}/git/blobs/${fileSha}`)\n\t\t.catch(handleRequestError);\n};\n\nexport const validateToken = (token: string) => {\n\tconst authHeaders = token ? { Authorization: `token ${token}` } : {};\n\treturn self.fetch(`https://api.github.com`, { headers: { ...authHeaders } }).then(response => ({\n\t\ttoken: !!token, // if the token is not empty\n\t\tvalid: response.status !== 401 ? true : false, // if the request is valid\n\t\tlimit: +response.headers.get('X-RateLimit-Limit') || 0, // limit count\n\t\tremaining: +response.headers.get('X-RateLimit-Remaining') || 0, // remains request count\n\t\treset: +response.headers.get('X-RateLimit-Reset') || 0, // reset time\n\t})).catch(() => {\n\t\tthrottledReportNetworkError();\n\t\tthrow new RequestError('Request Failed, Maybe an Network Error', token);\n\t});\n};\n","/**\n * @file github1s fetch api\n * @author netcon\n */\n\nimport * as vscode from 'vscode';\nimport { throttle } from './func';\nimport { getExtensionContext } from './context';\n\nconst getGitHubAuthToken = (): string => {\n\tconst context = getExtensionContext();\n\treturn context?.globalState.get('github-oauth-token') || '';\n};\n\nexport class RequestError extends Error {\n\tconstructor(message: string, public token: string) {\n\t\tsuper(message);\n\t\tif (typeof (<any>Object).setPrototypeOf === 'function') {\n\t\t\t(<any>Object).setPrototypeOf(this, RequestError.prototype);\n\t\t}\n\t}\n}\n\nexport class RequestNotFoundError extends RequestError {\n\tconstructor(message: string, token: string) {\n\t\tsuper(message, token);\n\t\tif (typeof (<any>Object).setPrototypeOf === 'function') {\n\t\t\t(<any>Object).setPrototypeOf(this, RequestNotFoundError.prototype);\n\t\t}\n\t}\n}\n\nexport class RequestRateLimitError extends RequestError {\n\tconstructor(message: string, token: string) {\n\t\tsuper(message, token);\n\t\tif (typeof (<any>Object).setPrototypeOf === 'function') {\n\t\t\t(<any>Object).setPrototypeOf(this, RequestRateLimitError.prototype);\n\t\t}\n\t}\n}\n\nexport class RequestInvalidTokenError extends RequestError {\n\tconstructor(message: string, token: string) {\n\t\tsuper(message, token);\n\t\tif (typeof (<any>Object).setPrototypeOf === 'function') {\n\t\t\t(<any>Object).setPrototypeOf(this, RequestInvalidTokenError.prototype);\n\t\t};\n\t}\n}\n\n// only report network error once in 5 seconds\nexport const throttledReportNetworkError = throttle(() => vscode.window.showErrorMessage('Request Failed, Maybe an Network Error'), 5000);\n\nexport const fetch = (url: string, options?: RequestInit) => {\n\tconst token = getGitHubAuthToken();\n\tconst authHeaders = token ? { Authorization: `token ${token}` } : {};\n\tconst customHeaders = (options && 'headers' in options ? options.headers : {});\n\n\treturn self.fetch(url, { mode: 'cors', ...options, headers: { ...authHeaders, ...customHeaders } })\n\t\t.catch(() => {\n\t\t\tthrottledReportNetworkError();\n\t\t\tthrow new RequestError('Request Failed, Maybe an Network Error', token);\n\t\t})\n\t\t.then(response => {\n\t\t\tif (response.status < 400) {\n\t\t\t\treturn response.json();\n\t\t\t}\n\t\t\tif (response.status === 403) {\n\t\t\t\treturn response.json().then(data => { throw new RequestRateLimitError(data.message, token); });\n\t\t\t}\n\t\t\tif (response.status === 401) {\n\t\t\t\treturn response.json().then(data => { throw new RequestInvalidTokenError(data.message, token); });\n\t\t\t}\n\t\t\tif (response.status === 404) {\n\t\t\t\tthrow new RequestNotFoundError('Not Found', token);\n\t\t\t}\n\t\t\tthrow new RequestError(`GitHub1s: Request got HTTP ${response.status} response`, token);\n\t\t});\n};\n","/**\n * @file function utils\n * @author netcon\n */\n\nimport * as jsonStableStringify from 'json-stable-stringify';\nimport * as pFinally from 'p-finally';\n\nconst defaultComputeCacheKey = (...args) => jsonStableStringify([...args]);\n\n// reuse previous promise when a request call\n// and previous request not completed\nexport const reuseable = (func, computeCacheKey = defaultComputeCacheKey) => {\n\tconst cache = new Map<string, Promise<any>>();\n\n\treturn function (...args: any[]): Promise<any> {\n\t\tconst key = computeCacheKey(...args);\n\t\tif (cache.has(key)) {\n\t\t\treturn cache.get(key);\n\t\t}\n\n\t\tconst promise = func.call(this, ...args);\n\t\tcache.set(key, promise);\n\t\treturn pFinally(promise, () => cache.delete(key));\n\t};\n};\n\nexport const throttle = (func: Function, interval: number) => {\n\tlet timer = null;\n\treturn function(...args: any[]): any {\n\t\tif (timer) {\n\t\t\treturn;\n\t\t}\n\t\tfunc.call(this, ...args);\n\t\ttimer = setTimeout(() => (timer = null), interval);\n\t};\n};\n","/**\n * @file extension context\n * @author netcon\n */\n\nimport * as vscode from 'vscode';\n\nlet extensionContext: vscode.ExtensionContext | null = null;\n\nexport const setExtensionContext = (_extensionContext: vscode.ExtensionContext) => {\n\textensionContext = _extensionContext;\n};\n\nexport const getExtensionContext = (): vscode.ExtensionContext | null => {\n\treturn extensionContext;\n};\n","/**\n * @file github1s commands\n * @author netcon\n */\n\nimport * as vscode from 'vscode';\nimport { getExtensionContext } from './util';\nimport { validateToken } from './api';\n\nexport const commandValidateToken = (silent: boolean = false) => {\n\tconst context = getExtensionContext();\n\tconst oAuthToken = context.globalState.get('github-oauth-token') as string || '';\n\treturn validateToken(oAuthToken).then(tokenStatus => {\n\t\tif (!silent) {\n\t\t\tconst remaining = tokenStatus.remaining;\n\t\t\tif (!oAuthToken) {\n\t\t\t\tif (remaining > 0) {\n\t\t\t\t\tvscode.window.showWarningMessage(`You haven\\'t set a GitHub OAuth Token yet, and you can have ${remaining} requests in the current rate limit window.`);\n\t\t\t\t} else {\n\t\t\t\t\tvscode.window.showWarningMessage('You haven\\'t set a GitHub OAuth Token yet, and the rate limit is exceeded.');\n\t\t\t\t}\n\t\t\t} else if (!tokenStatus.valid) {\n\t\t\t\tvscode.window.showErrorMessage('Current GitHub OAuth Token is invalid.');\n\t\t\t} else if (tokenStatus.valid && tokenStatus.remaining > 0) {\n\t\t\t\tvscode.window.showInformationMessage(`Current GitHub OAuth Token is OK, and you can have ${remaining} requests in the current rate limit window.`);\n\t\t\t} else if (tokenStatus.valid && tokenStatus.remaining <= 0) {\n\t\t\t\tvscode.window.showWarningMessage('Current GitHub OAuth Token is Valid, but the rate limit is exceeded.');\n\t\t\t}\n\t\t}\n\t\treturn tokenStatus;\n\t});\n};\n\nexport const commandUpdateToken = (silent: boolean = false) => {\n\treturn vscode.window.showInputBox({\n\t\tplaceHolder: 'Please input the GitHub OAuth Token',\n\t}).then(token => {\n\t\tif (!token) {\n\t\t\treturn;\n\t\t}\n\t\treturn getExtensionContext()!.globalState.update('github-oauth-token', token || '').then(() => {\n\t\t\t// we don't need wait validate, so we don't `return`\n\t\t\tvalidateToken(token).then(tokenStatus => {\n\t\t\t\tif (!silent) {\n\t\t\t\t\tif (!tokenStatus.valid) {vscode.window.showErrorMessage('GitHub OAuth Token have updated, but it is invalid.');}\n\t\t\t\t\telse if (tokenStatus.remaining <= 0) {vscode.window.showWarningMessage('GitHub OAuth Token have updated, but the rate limit is exceeded.');}\n\t\t\t\t\telse {\n\t\t\t\t\t\tvscode.window.showInformationMessage('GitHub OAuth Token have updated.');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttokenStatus.valid && tokenStatus.remaining > 0 && vscode.commands.executeCommand('workbench.files.action.refreshFilesExplorer');\n\t\t\t});\n\t\t});\n\t});\n};\n\nexport const commandClearToken = (silent: boolean = false) => {\n\treturn vscode.window.showWarningMessage('Would you want to clear the saved GitHub OAuth Token?', { modal: true }, 'Confirm').then(choose => {\n\t\tif (choose === 'Confirm') {\n\t\t\treturn getExtensionContext()!.globalState.update('github-oauth-token', '').then(() => {\n\t\t\t\t!silent && vscode.window.showInformationMessage('You have cleared the saved GitHb OAuth Token.');\n\t\t\t}).then(() => true);\n\t\t}\n\t\treturn false;\n\t});\n};\n","/**\n * @file extension entry\n * @author netcon\n */\n\nimport * as vscode from 'vscode';\nimport { GitHub1sFS } from './github1sfs';\nimport { SettingsView } from './settings-view';\nimport { setExtensionContext } from './util';\nimport { commandUpdateToken, commandValidateToken, commandClearToken } from './commands';\n\nexport function activate(context: vscode.ExtensionContext) {\n\tsetExtensionContext(context);\n\tcontext.subscriptions.push(new GitHub1sFS());\n\n\tcontext.subscriptions.push(vscode.window.registerWebviewViewProvider(SettingsView.viewType, new SettingsView()));\n\n\tcontext.subscriptions.push(vscode.commands.registerCommand('github1s.validate-token', commandValidateToken));\n\tcontext.subscriptions.push(vscode.commands.registerCommand('github1s.update-token', commandUpdateToken));\n\tcontext.subscriptions.push(vscode.commands.registerCommand('github1s.clear-token', commandClearToken));\n}\n","/**\n * @file VSCode GitHub1sFs Provider\n * @author netcon\n */\n\nimport {\n\tworkspace,\n\tDisposable,\n\tFileSystemProvider,\n\tFileSystemError,\n\tEvent,\n\tEventEmitter,\n\tFileChangeEvent,\n\tFileStat,\n\tFileType,\n\tUri,\n} from 'vscode';\nimport { noop, dirname, reuseable } from './util';\nimport { readGitHubDirectory, readGitHubFile } from './api';\nimport { toUint8Array as decodeBase64 } from 'js-base64';\n\nexport class File implements FileStat {\n\ttype: FileType;\n\tctime: number;\n\tmtime: number;\n\tsize: number;\n\tname: string;\n\tsha: string;\n\tdata?: Uint8Array;\n\n\tconstructor(public uri: Uri, name: string, options?: any) {\n\t\tthis.type = FileType.File;\n\t\tthis.ctime = Date.now();\n\t\tthis.mtime = Date.now();\n\t\tthis.name = name;\n\t\tthis.sha = (options && ('sha' in options)) ? options.sha : '';\n\t\tthis.size = (options && ('size' in options)) ? options.size : 0;\n\t\tthis.data = (options && ('data' in options)) ? options.data : null;\n\t}\n}\n\nexport class Directory implements FileStat {\n\ttype: FileType;\n\tctime: number;\n\tmtime: number;\n\tsize: number;\n\tsha: string;\n\tname: string;\n\tentries: Map<string, File | Directory>;\n\n\tconstructor(public uri: Uri, name: string, options?: any) {\n\t\tthis.type = FileType.Directory;\n\t\tthis.ctime = Date.now();\n\t\tthis.mtime = Date.now();\n\t\tthis.size = 0;\n\t\tthis.name = name;\n\t\tthis.entries = null;\n\t\tthis.sha = (options && ('sha' in options)) ? options.sha : '';\n\t\tthis.size = (options && ('size' in options)) ? options.size : 0;\n\t}\n}\n\nexport type Entry = File | Directory;\n\nexport class GitHub1sFS implements FileSystemProvider, Disposable {\n\tstatic scheme = 'github1s';\n\tprivate readonly disposable: Disposable;\n\tprivate _emitter = new EventEmitter<FileChangeEvent[]>();\n\tprivate root: Directory = null;\n\n\tonDidChangeFile: Event<FileChangeEvent[]> = this._emitter.event;\n\n\tconstructor() {\n\t\tthis.disposable = Disposable.from(\n\t\t\tworkspace.registerFileSystemProvider(GitHub1sFS.scheme, this, { isCaseSensitive: true, isReadonly: true }),\n\t\t);\n\t}\n\n\tdispose() {\n\t\tthis.disposable?.dispose();\n\t}\n\n\t// --- lookup\n\tprivate async _lookup(uri: Uri, silent: false): Promise<Entry>;\n\tprivate async _lookup(uri: Uri, silent: boolean): Promise<Entry | undefined>;\n\tprivate async _lookup(uri: Uri, silent: boolean): Promise<Entry | undefined> {\n\t\tlet parts = uri.path.split('/').filter(Boolean);\n\t\tlet entry: Entry = this.root || (this.root = new Directory(uri.with({ path: '/' }), ''));\n\t\tfor (const part of parts) {\n\t\t\tlet child: Entry | undefined;\n\t\t\tif (entry instanceof Directory) {\n\t\t\t\tif (entry.entries === null) {\n\t\t\t\t\tawait this.readDirectory(Uri.joinPath(entry.uri, entry.name));\n\t\t\t\t}\n\t\t\t\tchild = entry.entries.get(part);\n\t\t\t}\n\t\t\tif (!child) {\n\t\t\t\tif (!silent) {\n\t\t\t\t\tthrow FileSystemError.FileNotFound(uri);\n\t\t\t\t} else {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t\tentry = child;\n\t\t}\n\t\treturn entry;\n\t}\n\n\tprivate async _lookupAsDirectory(uri: Uri, silent: boolean): Promise<Directory> {\n\t\tconst entry = await this._lookup(uri, silent);\n\t\tif (entry instanceof Directory) {\n\t\t\treturn entry;\n\t\t}\n\t\tif (!silent) {\n\t\t\tthrow FileSystemError.FileNotADirectory(uri);\n\t\t}\n\t}\n\n\tprivate async _lookupAsFile(uri: Uri, silent: boolean): Promise<File> {\n\t\tconst entry = await this._lookup(uri, silent);\n\t\tif (entry instanceof File) {\n\t\t\treturn entry;\n\t\t}\n\t\tif (!silent) {\n\t\t\tthrow FileSystemError.FileIsADirectory(uri);\n\t\t}\n\t}\n\n\tprivate _lookupParentDirectory(uri: Uri): Promise<Directory> {\n\t\tconst _dirname = uri.with({ path: dirname(uri.path) });\n\t\treturn this._lookupAsDirectory(_dirname, false);\n\t}\n\n\twatch(uri: Uri, options: { recursive: boolean; excludes: string[]; }): Disposable {\n\t\treturn new Disposable(noop);\n\t}\n\n\tstat(uri: Uri): FileStat | Thenable<FileStat> {\n\t\treturn this._lookup(uri, false);\n\t}\n\n\treadDirectory = reuseable((uri: Uri): [string, FileType][] | Thenable<[string, FileType][]> => {\n\t\tif (!uri.authority) {\n\t\t\tthrow FileSystemError.FileNotFound(uri);\n\t\t}\n\t\treturn this._lookupAsDirectory(uri, false).then(parent => {\n\t\t\tif (parent.entries !== null) {\n\t\t\t\tconst res = Array.from(parent.entries.values())\n\t\t\t\t\t.map((item: any) => [item.name, item instanceof Directory ? FileType.Directory : FileType.File]);\n\t\t\t\treturn Promise.resolve(res);\n\t\t\t}\n\n\t\t\treturn readGitHubDirectory(uri).then(data => {\n\t\t\t\tparent.entries = new Map<string, Entry>();\n\t\t\t\treturn data.tree.map((item: any) => {\n\t\t\t\t\tconst fileType: FileType = item.type === 'tree' ? FileType.Directory : FileType.File;\n\t\t\t\t\tparent.entries.set(\n\t\t\t\t\t\titem.path, fileType === FileType.Directory\n\t\t\t\t\t\t? new Directory(uri, item.path, { sha: item.sha })\n\t\t\t\t\t\t: new File(uri, item.path, { sha: item.sha, size: item.size })\n\t\t\t\t\t);\n\n\t\t\t\t\treturn [item.path, fileType];\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}, (uri: Uri) => uri.toString());\n\n\treadFile = reuseable((uri: Uri): Uint8Array | Thenable<Uint8Array> => {\n\t\tif (!uri.authority) {\n\t\t\tthrow FileSystemError.FileNotFound(uri);\n\t\t}\n\t\treturn this._lookupAsFile(uri, false).then(file => {\n\t\t\tif (file.data !== null) {\n\t\t\t\treturn file.data;\n\t\t\t}\n\n\t\t\treturn readGitHubFile(uri, file.sha).then(blob => {\n\t\t\t\tfile.data = decodeBase64(blob.content);\n\t\t\t\treturn file.data;\n\t\t\t});\n\t\t});\n\t}, (uri: Uri) => uri.toString());\n\n\tcreateDirectory(uri: Uri): void | Thenable<void> {\n\t\treturn Promise.resolve();\n\t}\n\n\twriteFile(uri: Uri, content: Uint8Array, options: { create: boolean; overwrite: boolean; }): void | Thenable<void> {\n\t\treturn Promise.resolve();\n\t}\n\n\tdelete(uri: Uri, options: { recursive: boolean; }): void | Thenable<void> {\n\t\treturn Promise.resolve();\n\t}\n\n\trename(oldUri: Uri, newUri: Uri, options: { overwrite: boolean; }): void | Thenable<void> {\n\t\treturn Promise.resolve();\n\t}\n\n\tcopy?(source: Uri, destination: Uri, options: { overwrite: boolean; }): void | Thenable<void> {\n\t\treturn Promise.resolve();\n\t}\n}\n","var json = typeof JSON !== 'undefined' ? JSON : require('jsonify');\n\nmodule.exports = function (obj, opts) {\n    if (!opts) opts = {};\n    if (typeof opts === 'function') opts = { cmp: opts };\n    var space = opts.space || '';\n    if (typeof space === 'number') space = Array(space+1).join(' ');\n    var cycles = (typeof opts.cycles === 'boolean') ? opts.cycles : false;\n    var replacer = opts.replacer || function(key, value) { return value; };\n\n    var cmp = opts.cmp && (function (f) {\n        return function (node) {\n            return function (a, b) {\n                var aobj = { key: a, value: node[a] };\n                var bobj = { key: b, value: node[b] };\n                return f(aobj, bobj);\n            };\n        };\n    })(opts.cmp);\n\n    var seen = [];\n    return (function stringify (parent, key, node, level) {\n        var indent = space ? ('\\n' + new Array(level + 1).join(space)) : '';\n        var colonSeparator = space ? ': ' : ':';\n\n        if (node && node.toJSON && typeof node.toJSON === 'function') {\n            node = node.toJSON();\n        }\n\n        node = replacer.call(parent, key, node);\n\n        if (node === undefined) {\n            return;\n        }\n        if (typeof node !== 'object' || node === null) {\n            return json.stringify(node);\n        }\n        if (isArray(node)) {\n            var out = [];\n            for (var i = 0; i < node.length; i++) {\n                var item = stringify(node, i, node[i], level+1) || json.stringify(null);\n                out.push(indent + space + item);\n            }\n            return '[' + out.join(',') + indent + ']';\n        }\n        else {\n            if (seen.indexOf(node) !== -1) {\n                if (cycles) return json.stringify('__cycle__');\n                throw new TypeError('Converting circular structure to JSON');\n            }\n            else seen.push(node);\n\n            var keys = objectKeys(node).sort(cmp && cmp(node));\n            var out = [];\n            for (var i = 0; i < keys.length; i++) {\n                var key = keys[i];\n                var value = stringify(node, key, node[key], level+1);\n\n                if(!value) continue;\n\n                var keyValue = json.stringify(key)\n                    + colonSeparator\n                    + value;\n                ;\n                out.push(indent + space + keyValue);\n            }\n            seen.splice(seen.indexOf(node), 1);\n            return '{' + out.join(',') + indent + '}';\n        }\n    })({ '': obj }, '', obj, 0);\n};\n\nvar isArray = Array.isArray || function (x) {\n    return {}.toString.call(x) === '[object Array]';\n};\n\nvar objectKeys = Object.keys || function (obj) {\n    var has = Object.prototype.hasOwnProperty || function () { return true };\n    var keys = [];\n    for (var key in obj) {\n        if (has.call(obj, key)) keys.push(key);\n    }\n    return keys;\n};\n","exports.parse = require('./lib/parse');\nexports.stringify = require('./lib/stringify');\n","var at, // The index of the current character\n    ch, // The current character\n    escapee = {\n        '\"':  '\"',\n        '\\\\': '\\\\',\n        '/':  '/',\n        b:    '\\b',\n        f:    '\\f',\n        n:    '\\n',\n        r:    '\\r',\n        t:    '\\t'\n    },\n    text,\n\n    error = function (m) {\n        // Call error when something is wrong.\n        throw {\n            name:    'SyntaxError',\n            message: m,\n            at:      at,\n            text:    text\n        };\n    },\n    \n    next = function (c) {\n        // If a c parameter is provided, verify that it matches the current character.\n        if (c && c !== ch) {\n            error(\"Expected '\" + c + \"' instead of '\" + ch + \"'\");\n        }\n        \n        // Get the next character. When there are no more characters,\n        // return the empty string.\n        \n        ch = text.charAt(at);\n        at += 1;\n        return ch;\n    },\n    \n    number = function () {\n        // Parse a number value.\n        var number,\n            string = '';\n        \n        if (ch === '-') {\n            string = '-';\n            next('-');\n        }\n        while (ch >= '0' && ch <= '9') {\n            string += ch;\n            next();\n        }\n        if (ch === '.') {\n            string += '.';\n            while (next() && ch >= '0' && ch <= '9') {\n                string += ch;\n            }\n        }\n        if (ch === 'e' || ch === 'E') {\n            string += ch;\n            next();\n            if (ch === '-' || ch === '+') {\n                string += ch;\n                next();\n            }\n            while (ch >= '0' && ch <= '9') {\n                string += ch;\n                next();\n            }\n        }\n        number = +string;\n        if (!isFinite(number)) {\n            error(\"Bad number\");\n        } else {\n            return number;\n        }\n    },\n    \n    string = function () {\n        // Parse a string value.\n        var hex,\n            i,\n            string = '',\n            uffff;\n        \n        // When parsing for string values, we must look for \" and \\ characters.\n        if (ch === '\"') {\n            while (next()) {\n                if (ch === '\"') {\n                    next();\n                    return string;\n                } else if (ch === '\\\\') {\n                    next();\n                    if (ch === 'u') {\n                        uffff = 0;\n                        for (i = 0; i < 4; i += 1) {\n                            hex = parseInt(next(), 16);\n                            if (!isFinite(hex)) {\n                                break;\n                            }\n                            uffff = uffff * 16 + hex;\n                        }\n                        string += String.fromCharCode(uffff);\n                    } else if (typeof escapee[ch] === 'string') {\n                        string += escapee[ch];\n                    } else {\n                        break;\n                    }\n                } else {\n                    string += ch;\n                }\n            }\n        }\n        error(\"Bad string\");\n    },\n\n    white = function () {\n\n// Skip whitespace.\n\n        while (ch && ch <= ' ') {\n            next();\n        }\n    },\n\n    word = function () {\n\n// true, false, or null.\n\n        switch (ch) {\n        case 't':\n            next('t');\n            next('r');\n            next('u');\n            next('e');\n            return true;\n        case 'f':\n            next('f');\n            next('a');\n            next('l');\n            next('s');\n            next('e');\n            return false;\n        case 'n':\n            next('n');\n            next('u');\n            next('l');\n            next('l');\n            return null;\n        }\n        error(\"Unexpected '\" + ch + \"'\");\n    },\n\n    value,  // Place holder for the value function.\n\n    array = function () {\n\n// Parse an array value.\n\n        var array = [];\n\n        if (ch === '[') {\n            next('[');\n            white();\n            if (ch === ']') {\n                next(']');\n                return array;   // empty array\n            }\n            while (ch) {\n                array.push(value());\n                white();\n                if (ch === ']') {\n                    next(']');\n                    return array;\n                }\n                next(',');\n                white();\n            }\n        }\n        error(\"Bad array\");\n    },\n\n    object = function () {\n\n// Parse an object value.\n\n        var key,\n            object = {};\n\n        if (ch === '{') {\n            next('{');\n            white();\n            if (ch === '}') {\n                next('}');\n                return object;   // empty object\n            }\n            while (ch) {\n                key = string();\n                white();\n                next(':');\n                if (Object.hasOwnProperty.call(object, key)) {\n                    error('Duplicate key \"' + key + '\"');\n                }\n                object[key] = value();\n                white();\n                if (ch === '}') {\n                    next('}');\n                    return object;\n                }\n                next(',');\n                white();\n            }\n        }\n        error(\"Bad object\");\n    };\n\nvalue = function () {\n\n// Parse a JSON value. It could be an object, an array, a string, a number,\n// or a word.\n\n    white();\n    switch (ch) {\n    case '{':\n        return object();\n    case '[':\n        return array();\n    case '\"':\n        return string();\n    case '-':\n        return number();\n    default:\n        return ch >= '0' && ch <= '9' ? number() : word();\n    }\n};\n\n// Return the json_parse function. It will have access to all of the above\n// functions and variables.\n\nmodule.exports = function (source, reviver) {\n    var result;\n    \n    text = source;\n    at = 0;\n    ch = ' ';\n    result = value();\n    white();\n    if (ch) {\n        error(\"Syntax error\");\n    }\n\n    // If there is a reviver function, we recursively walk the new structure,\n    // passing each name/value pair to the reviver function for possible\n    // transformation, starting with a temporary root object that holds the result\n    // in an empty key. If there is not a reviver function, we simply return the\n    // result.\n\n    return typeof reviver === 'function' ? (function walk(holder, key) {\n        var k, v, value = holder[key];\n        if (value && typeof value === 'object') {\n            for (k in value) {\n                if (Object.prototype.hasOwnProperty.call(value, k)) {\n                    v = walk(value, k);\n                    if (v !== undefined) {\n                        value[k] = v;\n                    } else {\n                        delete value[k];\n                    }\n                }\n            }\n        }\n        return reviver.call(holder, key, value);\n    }({'': result}, '')) : result;\n};\n","var cx = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n    escapable = /[\\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n    gap,\n    indent,\n    meta = {    // table of character substitutions\n        '\\b': '\\\\b',\n        '\\t': '\\\\t',\n        '\\n': '\\\\n',\n        '\\f': '\\\\f',\n        '\\r': '\\\\r',\n        '\"' : '\\\\\"',\n        '\\\\': '\\\\\\\\'\n    },\n    rep;\n\nfunction quote(string) {\n    // If the string contains no control characters, no quote characters, and no\n    // backslash characters, then we can safely slap some quotes around it.\n    // Otherwise we must also replace the offending characters with safe escape\n    // sequences.\n    \n    escapable.lastIndex = 0;\n    return escapable.test(string) ? '\"' + string.replace(escapable, function (a) {\n        var c = meta[a];\n        return typeof c === 'string' ? c :\n            '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n    }) + '\"' : '\"' + string + '\"';\n}\n\nfunction str(key, holder) {\n    // Produce a string from holder[key].\n    var i,          // The loop counter.\n        k,          // The member key.\n        v,          // The member value.\n        length,\n        mind = gap,\n        partial,\n        value = holder[key];\n    \n    // If the value has a toJSON method, call it to obtain a replacement value.\n    if (value && typeof value === 'object' &&\n            typeof value.toJSON === 'function') {\n        value = value.toJSON(key);\n    }\n    \n    // If we were called with a replacer function, then call the replacer to\n    // obtain a replacement value.\n    if (typeof rep === 'function') {\n        value = rep.call(holder, key, value);\n    }\n    \n    // What happens next depends on the value's type.\n    switch (typeof value) {\n        case 'string':\n            return quote(value);\n        \n        case 'number':\n            // JSON numbers must be finite. Encode non-finite numbers as null.\n            return isFinite(value) ? String(value) : 'null';\n        \n        case 'boolean':\n        case 'null':\n            // If the value is a boolean or null, convert it to a string. Note:\n            // typeof null does not produce 'null'. The case is included here in\n            // the remote chance that this gets fixed someday.\n            return String(value);\n            \n        case 'object':\n            if (!value) return 'null';\n            gap += indent;\n            partial = [];\n            \n            // Array.isArray\n            if (Object.prototype.toString.apply(value) === '[object Array]') {\n                length = value.length;\n                for (i = 0; i < length; i += 1) {\n                    partial[i] = str(i, value) || 'null';\n                }\n                \n                // Join all of the elements together, separated with commas, and\n                // wrap them in brackets.\n                v = partial.length === 0 ? '[]' : gap ?\n                    '[\\n' + gap + partial.join(',\\n' + gap) + '\\n' + mind + ']' :\n                    '[' + partial.join(',') + ']';\n                gap = mind;\n                return v;\n            }\n            \n            // If the replacer is an array, use it to select the members to be\n            // stringified.\n            if (rep && typeof rep === 'object') {\n                length = rep.length;\n                for (i = 0; i < length; i += 1) {\n                    k = rep[i];\n                    if (typeof k === 'string') {\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                        }\n                    }\n                }\n            }\n            else {\n                // Otherwise, iterate through all of the keys in the object.\n                for (k in value) {\n                    if (Object.prototype.hasOwnProperty.call(value, k)) {\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                        }\n                    }\n                }\n            }\n            \n        // Join all of the member texts together, separated with commas,\n        // and wrap them in braces.\n\n        v = partial.length === 0 ? '{}' : gap ?\n            '{\\n' + gap + partial.join(',\\n' + gap) + '\\n' + mind + '}' :\n            '{' + partial.join(',') + '}';\n        gap = mind;\n        return v;\n    }\n}\n\nmodule.exports = function (value, replacer, space) {\n    var i;\n    gap = '';\n    indent = '';\n    \n    // If the space parameter is a number, make an indent string containing that\n    // many spaces.\n    if (typeof space === 'number') {\n        for (i = 0; i < space; i += 1) {\n            indent += ' ';\n        }\n    }\n    // If the space parameter is a string, it will be used as the indent string.\n    else if (typeof space === 'string') {\n        indent = space;\n    }\n\n    // If there is a replacer, it must be a function or an array.\n    // Otherwise, throw an error.\n    rep = replacer;\n    if (replacer && typeof replacer !== 'function'\n    && (typeof replacer !== 'object' || typeof replacer.length !== 'number')) {\n        throw new Error('JSON.stringify');\n    }\n    \n    // Make a fake root object containing our value under the key of ''.\n    // Return the result of stringifying the value.\n    return str('', {'': value});\n};\n","'use strict';\n\nmodule.exports = async (\n\tpromise,\n\tonFinally = (() => {})\n) => {\n\tlet value;\n\ttry {\n\t\tvalue = await promise;\n\t} catch (error) {\n\t\tawait onFinally();\n\t\tthrow error;\n\t}\n\n\tawait onFinally();\n\treturn value;\n};\n","/**\n *  base64.ts\n *\n *  Licensed under the BSD 3-Clause License.\n *    http://opensource.org/licenses/BSD-3-Clause\n *\n *  References:\n *    http://en.wikipedia.org/wiki/Base64\n *\n * @author Dan Kogai (https://github.com/dankogai)\n */\nconst version = '3.6.0';\n/**\n * @deprecated use lowercase `version`.\n */\nconst VERSION = version;\nconst _hasatob = typeof atob === 'function';\nconst _hasbtoa = typeof btoa === 'function';\nconst _hasBuffer = typeof Buffer === 'function';\nconst _TD = typeof TextDecoder === 'function' ? new TextDecoder() : undefined;\nconst _TE = typeof TextEncoder === 'function' ? new TextEncoder() : undefined;\nconst b64ch = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\nconst b64chs = [...b64ch];\nconst b64tab = ((a) => {\n    let tab = {};\n    a.forEach((c, i) => tab[c] = i);\n    return tab;\n})(b64chs);\nconst b64re = /^(?:[A-Za-z\\d+\\/]{4})*?(?:[A-Za-z\\d+\\/]{2}(?:==)?|[A-Za-z\\d+\\/]{3}=?)?$/;\nconst _fromCC = String.fromCharCode.bind(String);\nconst _U8Afrom = typeof Uint8Array.from === 'function'\n    ? Uint8Array.from.bind(Uint8Array)\n    : (it, fn = (x) => x) => new Uint8Array(Array.prototype.slice.call(it, 0).map(fn));\nconst _mkUriSafe = (src) => src\n    .replace(/[+\\/]/g, (m0) => m0 == '+' ? '-' : '_')\n    .replace(/=+$/m, '');\nconst _tidyB64 = (s) => s.replace(/[^A-Za-z0-9\\+\\/]/g, '');\n/**\n * polyfill version of `btoa`\n */\nconst btoaPolyfill = (bin) => {\n    // console.log('polyfilled');\n    let u32, c0, c1, c2, asc = '';\n    const pad = bin.length % 3;\n    for (let i = 0; i < bin.length;) {\n        if ((c0 = bin.charCodeAt(i++)) > 255 ||\n            (c1 = bin.charCodeAt(i++)) > 255 ||\n            (c2 = bin.charCodeAt(i++)) > 255)\n            throw new TypeError('invalid character found');\n        u32 = (c0 << 16) | (c1 << 8) | c2;\n        asc += b64chs[u32 >> 18 & 63]\n            + b64chs[u32 >> 12 & 63]\n            + b64chs[u32 >> 6 & 63]\n            + b64chs[u32 & 63];\n    }\n    return pad ? asc.slice(0, pad - 3) + \"===\".substring(pad) : asc;\n};\n/**\n * does what `window.btoa` of web browsers do.\n * @param {String} bin binary string\n * @returns {string} Base64-encoded string\n */\nconst _btoa = _hasbtoa ? (bin) => btoa(bin)\n    : _hasBuffer ? (bin) => Buffer.from(bin, 'binary').toString('base64')\n        : btoaPolyfill;\nconst _fromUint8Array = _hasBuffer\n    ? (u8a) => Buffer.from(u8a).toString('base64')\n    : (u8a) => {\n        // cf. https://stackoverflow.com/questions/12710001/how-to-convert-uint8-array-to-base64-encoded-string/12713326#12713326\n        const maxargs = 0x1000;\n        let strs = [];\n        for (let i = 0, l = u8a.length; i < l; i += maxargs) {\n            strs.push(_fromCC.apply(null, u8a.subarray(i, i + maxargs)));\n        }\n        return _btoa(strs.join(''));\n    };\n/**\n * converts a Uint8Array to a Base64 string.\n * @param {boolean} [urlsafe] URL-and-filename-safe a la RFC4648 §5\n * @returns {string} Base64 string\n */\nconst fromUint8Array = (u8a, urlsafe = false) => urlsafe ? _mkUriSafe(_fromUint8Array(u8a)) : _fromUint8Array(u8a);\n// This trick is found broken https://github.com/dankogai/js-base64/issues/130\n// const utob = (src: string) => unescape(encodeURIComponent(src));\n// reverting good old fationed regexp\nconst cb_utob = (c) => {\n    if (c.length < 2) {\n        var cc = c.charCodeAt(0);\n        return cc < 0x80 ? c\n            : cc < 0x800 ? (_fromCC(0xc0 | (cc >>> 6))\n                + _fromCC(0x80 | (cc & 0x3f)))\n                : (_fromCC(0xe0 | ((cc >>> 12) & 0x0f))\n                    + _fromCC(0x80 | ((cc >>> 6) & 0x3f))\n                    + _fromCC(0x80 | (cc & 0x3f)));\n    }\n    else {\n        var cc = 0x10000\n            + (c.charCodeAt(0) - 0xD800) * 0x400\n            + (c.charCodeAt(1) - 0xDC00);\n        return (_fromCC(0xf0 | ((cc >>> 18) & 0x07))\n            + _fromCC(0x80 | ((cc >>> 12) & 0x3f))\n            + _fromCC(0x80 | ((cc >>> 6) & 0x3f))\n            + _fromCC(0x80 | (cc & 0x3f)));\n    }\n};\nconst re_utob = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFFF]|[^\\x00-\\x7F]/g;\n/**\n * @deprecated should have been internal use only.\n * @param {string} src UTF-8 string\n * @returns {string} UTF-16 string\n */\nconst utob = (u) => u.replace(re_utob, cb_utob);\n//\nconst _encode = _hasBuffer\n    ? (s) => Buffer.from(s, 'utf8').toString('base64')\n    : _TE\n        ? (s) => _fromUint8Array(_TE.encode(s))\n        : (s) => _btoa(utob(s));\n/**\n * converts a UTF-8-encoded string to a Base64 string.\n * @param {boolean} [urlsafe] if `true` make the result URL-safe\n * @returns {string} Base64 string\n */\nconst encode = (src, urlsafe = false) => urlsafe\n    ? _mkUriSafe(_encode(src))\n    : _encode(src);\n/**\n * converts a UTF-8-encoded string to URL-safe Base64 RFC4648 §5.\n * @returns {string} Base64 string\n */\nconst encodeURI = (src) => encode(src, true);\n// This trick is found broken https://github.com/dankogai/js-base64/issues/130\n// const btou = (src: string) => decodeURIComponent(escape(src));\n// reverting good old fationed regexp\nconst re_btou = /[\\xC0-\\xDF][\\x80-\\xBF]|[\\xE0-\\xEF][\\x80-\\xBF]{2}|[\\xF0-\\xF7][\\x80-\\xBF]{3}/g;\nconst cb_btou = (cccc) => {\n    switch (cccc.length) {\n        case 4:\n            var cp = ((0x07 & cccc.charCodeAt(0)) << 18)\n                | ((0x3f & cccc.charCodeAt(1)) << 12)\n                | ((0x3f & cccc.charCodeAt(2)) << 6)\n                | (0x3f & cccc.charCodeAt(3)), offset = cp - 0x10000;\n            return (_fromCC((offset >>> 10) + 0xD800)\n                + _fromCC((offset & 0x3FF) + 0xDC00));\n        case 3:\n            return _fromCC(((0x0f & cccc.charCodeAt(0)) << 12)\n                | ((0x3f & cccc.charCodeAt(1)) << 6)\n                | (0x3f & cccc.charCodeAt(2)));\n        default:\n            return _fromCC(((0x1f & cccc.charCodeAt(0)) << 6)\n                | (0x3f & cccc.charCodeAt(1)));\n    }\n};\n/**\n * @deprecated should have been internal use only.\n * @param {string} src UTF-16 string\n * @returns {string} UTF-8 string\n */\nconst btou = (b) => b.replace(re_btou, cb_btou);\n/**\n * polyfill version of `atob`\n */\nconst atobPolyfill = (asc) => {\n    // console.log('polyfilled');\n    asc = asc.replace(/\\s+/g, '');\n    if (!b64re.test(asc))\n        throw new TypeError('malformed base64.');\n    asc += '=='.slice(2 - (asc.length & 3));\n    let u24, bin = '', r1, r2;\n    for (let i = 0; i < asc.length;) {\n        u24 = b64tab[asc.charAt(i++)] << 18\n            | b64tab[asc.charAt(i++)] << 12\n            | (r1 = b64tab[asc.charAt(i++)]) << 6\n            | (r2 = b64tab[asc.charAt(i++)]);\n        bin += r1 === 64 ? _fromCC(u24 >> 16 & 255)\n            : r2 === 64 ? _fromCC(u24 >> 16 & 255, u24 >> 8 & 255)\n                : _fromCC(u24 >> 16 & 255, u24 >> 8 & 255, u24 & 255);\n    }\n    return bin;\n};\n/**\n * does what `window.atob` of web browsers do.\n * @param {String} asc Base64-encoded string\n * @returns {string} binary string\n */\nconst _atob = _hasatob ? (asc) => atob(_tidyB64(asc))\n    : _hasBuffer ? (asc) => Buffer.from(asc, 'base64').toString('binary')\n        : atobPolyfill;\n//\nconst _toUint8Array = _hasBuffer\n    ? (a) => _U8Afrom(Buffer.from(a, 'base64'))\n    : (a) => _U8Afrom(_atob(a), c => c.charCodeAt(0));\n/**\n * converts a Base64 string to a Uint8Array.\n */\nconst toUint8Array = (a) => _toUint8Array(_unURI(a));\n//\nconst _decode = _hasBuffer\n    ? (a) => Buffer.from(a, 'base64').toString('utf8')\n    : _TD\n        ? (a) => _TD.decode(_toUint8Array(a))\n        : (a) => btou(_atob(a));\nconst _unURI = (a) => _tidyB64(a.replace(/[-_]/g, (m0) => m0 == '-' ? '+' : '/'));\n/**\n * converts a Base64 string to a UTF-8 string.\n * @param {String} src Base64 string.  Both normal and URL-safe are supported\n * @returns {string} UTF-8 string\n */\nconst decode = (src) => _decode(_unURI(src));\n/**\n * check if a value is a valid Base64 string\n * @param {String} src a value to check\n  */\nconst isValid = (src) => {\n    if (typeof src !== 'string')\n        return false;\n    const s = src.replace(/\\s+/g, '').replace(/=+$/, '');\n    return !/[^\\s0-9a-zA-Z\\+/]/.test(s) || !/[^\\s0-9a-zA-Z\\-_]/.test(s);\n};\n//\nconst _noEnum = (v) => {\n    return {\n        value: v, enumerable: false, writable: true, configurable: true\n    };\n};\n/**\n * extend String.prototype with relevant methods\n */\nconst extendString = function () {\n    const _add = (name, body) => Object.defineProperty(String.prototype, name, _noEnum(body));\n    _add('fromBase64', function () { return decode(this); });\n    _add('toBase64', function (urlsafe) { return encode(this, urlsafe); });\n    _add('toBase64URI', function () { return encode(this, true); });\n    _add('toBase64URL', function () { return encode(this, true); });\n    _add('toUint8Array', function () { return toUint8Array(this); });\n};\n/**\n * extend Uint8Array.prototype with relevant methods\n */\nconst extendUint8Array = function () {\n    const _add = (name, body) => Object.defineProperty(Uint8Array.prototype, name, _noEnum(body));\n    _add('toBase64', function (urlsafe) { return fromUint8Array(this, urlsafe); });\n    _add('toBase64URI', function () { return fromUint8Array(this, true); });\n    _add('toBase64URL', function () { return fromUint8Array(this, true); });\n};\n/**\n * extend Builtin prototypes with relevant methods\n */\nconst extendBuiltins = () => {\n    extendString();\n    extendUint8Array();\n};\nconst gBase64 = {\n    version: version,\n    VERSION: VERSION,\n    atob: _atob,\n    atobPolyfill: atobPolyfill,\n    btoa: _btoa,\n    btoaPolyfill: btoaPolyfill,\n    fromBase64: decode,\n    toBase64: encode,\n    encode: encode,\n    encodeURI: encodeURI,\n    encodeURL: encodeURI,\n    utob: utob,\n    btou: btou,\n    decode: decode,\n    isValid: isValid,\n    fromUint8Array: fromUint8Array,\n    toUint8Array: toUint8Array,\n    extendString: extendString,\n    extendUint8Array: extendUint8Array,\n    extendBuiltins: extendBuiltins,\n};\n// makecjs:CUT //\nexport { version };\nexport { VERSION };\nexport { _atob as atob };\nexport { atobPolyfill };\nexport { _btoa as btoa };\nexport { btoaPolyfill };\nexport { decode as fromBase64 };\nexport { encode as toBase64 };\nexport { utob };\nexport { encode };\nexport { encodeURI };\nexport { encodeURI as encodeURL };\nexport { btou };\nexport { decode };\nexport { isValid };\nexport { fromUint8Array };\nexport { toUint8Array };\nexport { extendString };\nexport { extendUint8Array };\nexport { extendBuiltins };\n// and finally,\nexport { gBase64 as Base64 };\n","/**\n * @file GitHub1s Settings Webview Provider\n * @author netcon\n */\n\nimport * as vscode from 'vscode';\nimport { getNonce, getExtensionContext, getWebviewOptions } from './util';\nimport { commandClearToken } from './commands';\nimport { validateToken } from './api';\n\ninterface WebviewState {\n\ttoken?: string;\n\tpageType?: 'EDIT' | 'PREVIEW';\n\tvalid?: boolean;\n\tvalidating?: boolean;\n}\n\nexport class SettingsView implements vscode.WebviewViewProvider {\n\tpublic static readonly viewType = 'github1s-settings';\n\tprivate readonly _extensionContext: vscode.ExtensionContext;\n\tprivate _webviewView: vscode.WebviewView;\n\n\tconstructor() {\n\t\tthis._extensionContext = getExtensionContext();\n\t}\n\n\tresolveWebviewView(\n\t\twebviewView: vscode.WebviewView,\n\t\tcontext: vscode.WebviewViewResolveContext<unknown>,\n\t\ttoken: vscode.CancellationToken\n\t): void | Thenable<void> {\n\t\tthis._webviewView = webviewView;\n\t\twebviewView.webview.options = getWebviewOptions(this._extensionContext.extensionUri);\n\t\twebviewView.webview.html = this._getHtmlForWebview(webviewView.webview);\n\n\t\twebviewView.webview.onDidReceiveMessage(data => {\n\t\t\tswitch(data.type) {\n\t\t\t\tcase 'validate-token':\n\t\t\t\t\tthis.handleValidateToken(data.payload);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'update-token':\n\t\t\t\t\tthis.handleUpdateToken(data.payload);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'clear-token':\n\t\t\t\t\tcommandClearToken().then(cleared => {\n\t\t\t\t\t\tcleared && this.updateWebviewState({token: '', pageType: 'EDIT', valid: false, validating: false });\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'welcome-page':\n\t\t\t\t\tvscode.commands.executeCommand('workbench.action.showWelcomePage');\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tconst oauthToken = this._extensionContext.globalState.get('github-oauth-token') as string|| '';\n\t\t\t\t\t(oauthToken ? validateToken(oauthToken).then(data => (data.valid && data.remaining > 0)) : Promise.resolve(false)).then(isValid => {\n\t\t\t\t\t\tthis.updateWebviewState({ token: oauthToken, pageType: oauthToken ? 'PREVIEW' : 'EDIT', valid: isValid, validating: false });\n\t\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tupdateWebviewState(state: WebviewState) {\n\t\tthis._webviewView.webview.postMessage({ type: 'update-state', payload: state });\n\t}\n\n\thandleValidateToken(token: string) {\n\t\tthis.updateWebviewState({ validating: true });\n\t\tvalidateToken(token).then(tokenStatus => {\n\t\t\tif (!tokenStatus.valid) {\n\t\t\t\tvscode.window.showErrorMessage('This GitHub OAuth Token is invalid.');\n\t\t\t} else if (tokenStatus.remaining <= 0) {\n\t\t\t\tvscode.window.showWarningMessage('This GitHub OAuth Token is valid, but the rate limit is exceeded.');\n\t\t\t} else {\n\t\t\t\tvscode.window.showInformationMessage('This GitHub OAuth Token is OK.');\n\t\t\t}\n\t\t\tthis.updateWebviewState({ valid: tokenStatus.valid && tokenStatus.remaining > 0, validating: false });\n\t\t}).catch(() => this.updateWebviewState({ valid: false, validating: false }));\n\t}\n\n\thandleUpdateToken(token: string) {\n\t\tif (!token) {\n\t\t\treturn;\n\t\t}\n\t\tthis.updateWebviewState({ validating: true });\n\t\tvalidateToken(token).then(tokenStatus => {\n\t\t\tif (!tokenStatus.valid) {\n\t\t\t\tthis.updateWebviewState({ pageType: 'EDIT', validating: false });\n\t\t\t\tvscode.window.showErrorMessage('This GitHub OAuth Token is invalid.');\n\t\t\t} else if (tokenStatus.remaining <= 0) {\n\t\t\t\tthis.updateWebviewState({ pageType: 'EDIT', validating: false });\n\t\t\t\tvscode.window.showWarningMessage('This GitHub OAuth Token is valid, but the rate limit is exceeded.');\n\t\t\t} else {\n\t\t\t\tthis.updateWebviewState({ token, valid: true, pageType: 'PREVIEW', validating: false });\n\t\t\t\tthis._extensionContext.globalState.update('github-oauth-token', token || '').then(() => {\n\t\t\t\t\tvscode.commands.executeCommand('workbench.files.action.refreshFilesExplorer');\n\t\t\t\t});\n\t\t\t}\n\t\t}).catch(() => this.updateWebviewState({ token, validating: false }));\n\t}\n\n\t_getHtmlForWebview(webview): string {\n\t\tconst nonce = getNonce();\n\n\t\treturn `\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n\t<meta charset=\"UTF-8\">\n\t<meta http-equiv=\"Content-Security-Policy\" content=\"default-src 'none'; style-src 'nonce-${nonce}'; script-src 'nonce-${nonce}';\">\n\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n\t<title>GitHub1s Settings</title>\n\t<style nonce=\"${nonce}\">\nhtml {\n\tbox-sizing: border-box;\n\tfont-size: 13px;\n}\n\n*,\n*:before,\n*:after {\n\tbox-sizing: inherit;\n}\n\nbody, h1, h2, h3, h4, h5, h6, p, ol, ul {\n\tmargin: 0;\n\tpadding: 0;\n\tfont-weight: normal;\n}\n\nbody {\n\tbackground-color: transparent;\n}\n\ninput {\n\tdisplay: block;\n\twidth: 100%;\n\theight: 24px;\n\tborder: none;\n\tmargin-bottom: 10px;\n\tpadding-left: 4px;\n\tpadding-right: 4px;\n\tfont-family: var(--vscode-font-family);\n\tcolor: var(--vscode-input-foreground);\n\toutline-color: var(--vscode-input-border);\n\tbackground-color: var(--vscode-input-background);\n}\n\nbutton {\n\tborder: none;\n\twidth: 100%;\n\theight: 26px;\n\tmargin-bottom: 10px;\n\tpadding: var(--input-padding-vertical) var(--input-padding-horizontal);\n\ttext-align: center;\n\toutline: 1px solid transparent;\n\toutline-offset: 2px !important;\n\tcolor: var(--vscode-button-foreground);\n\tbackground: var(--vscode-button-background);\n}\n\nbutton:hover {\n\tcursor: pointer;\n\tbackground: var(--vscode-button-hoverBackground);\n}\n\nbutton:focus {\n\toutline-color: var(--vscode-focusBorder);\n}\n\nbutton.secondary {\n\tcolor: var(--vscode-button-secondaryForeground);\n\tbackground: var(--vscode-button-secondaryBackground);\n}\n\nbutton.secondary:hover {\n\tbackground: var(--vscode-button-secondaryHoverBackground);\n}\n\n.loading-page {\n\twidth: 50px;\n\theight: 40px;\n\tmargin: 60px auto;\n\ttext-align: center;\n}\n\n.loading-page span {\n\twidth: 5px;\n\theight: 100%;\n\tmargin-right: 4px;\n\tdisplay: inline-block;\n\tbackground:#2b6298;\n\tanimation: loading 1.2s infinite ease-in-out;\n\t-webkit-animation: loading 1.2s infinite ease-in-out;\n}\n\n.loading-page >span:nth-child(2) {\n\t-webkit-animation-delay: -1.0s;\n\tanimation-delay: -1.0s;\n}\n\n.loading-page >span:nth-child(3) {\n\t-webkit-animation-delay: -0.9s;\n\tanimation-delay: -0.9s;\n}\n\n.loading-page >span:nth-child(4) {\n\t-webkit-animation-delay: -0.8s;\n\tanimation-delay: -0.8s;\n}\n\n.loading-page >span:nth-child(5) {\n\t-webkit-animation-delay: -0.7s;\n\tanimation-delay: -0.7s;\n}\n\n@keyframes loading {\n\t0% { transform: scaleY(0.4); }\n\t25% { transform: scaleY(1.0); }\n\t50% { transform: scaleY(0.4); }\n\t75% { transform: scaleY(0.4); }\n\t100% { transform: scaleY(0.4); }\n}\n\n.preview-page, .edit-page {\n\tdisplay: none;\n}\n\n.container {\n\tpadding: 10px;\n}\n\n.container .token-invalid {\n\tdisplay: none;\n}\n\n.page-title {\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tmargin-bottom: 10px;\n}\n\n.description {\n\tmargin-bottom: 10px;\n}\n\n.description div {\n\tmargin-bottom: 5px;\n}\n\n.description div:last-child {\n\tmargin-bottom: 0;\n}\n\n.token-link {\n\tmargin-bottom: 10px;\n}\n\t</style>\n</head>\n<body>\n\t<div class=\"loading-page\">\n\t\t<span></span><span></span><span></span><span></span><span></span>\n\t</div>\n\t<div class=\"container edit-page\">\n\t\t<div class=\"page-title\">Set OAuth Token</div>\n\t\t<div class=\"description\">\n\t\t\t<div>For unauthenticated requests, the rate limit of GitHub allows for up to 60 requests per hour.</div>\n\t\t\t<div>For API requests using Authentication, you can make up to 5,000 requests per hour.</div>\n\t\t</div>\n\t\t<div class=\"token-link\">\n\t\t\t<a href=\"https://github.com/settings/tokens/new?scopes=repo&description=GitHub1s\" target=\"_blank\">\n\t\t\t\tGenerate New OAuth Token\n\t\t\t</a>\n\t\t</div>\n\t\t<div><input id=\"token-input\" name=\"token\" autocomplete=\"off\" /></div>\n\t\t<div><button id=\"save-button\">Save</button></div>\n\t\t<div><button id=\"preview-button\">Cancel</button></div>\n\t</div>\n\t<div class=\"container preview-page\">\n\t\t<div class=\"page-title\">You have authenticated</div>\n\t\t<div class=\"description\">\n\t\t\t<div class=\"token-status\">\n\t\t\t\tCurrent OAuth Token is <span class=\"token-status-text\"> ...</span>.\n\t\t\t</div>\n\t\t\t<div id=\"token-text\"></div>\n\t\t</div>\n\t\t<div><button id=\"welcome-button\">Detail</button></div>\n\t\t<div><button id=\"validate-button\">Validate</button></div>\n\t\t<div><button id=\"edit-button\">Edit</button></div>\n\t\t<div><button id=\"clear-button\">Clear</button></div>\n\t</div>\n\t<script nonce=\"${nonce}\">\n(function () {\n\tconst vscode = acquireVsCodeApi();\n\n\tconst updateState = (state) => {\n\t\tconst prevState = vscode.getState();\n\t\tvscode.setState({ ...prevState, ...state });\n\t\tupdatePage();\n\t};\n\n\twindow.addEventListener('message', ({ data }) => {\n\t\tif (data && data.type === 'update-state') {\n\t\t\tupdateState(data.payload);\n\t\t}\n\t});\n\tvscode.postMessage({ type: 'initialization', payload: null });\n\n\tconst delegate = (element, selector, eventName, handler) => {\n\t\tif (!element) return null;\n\t\telement.addEventListener(eventName, function (event) {\n\t\t\tconst children = element.querySelectorAll(selector);\n\t\t\tfor (let i = 0, len = children.length; i < len; i++) {\n\t\t\t\tif (children[i] === event.target) {\n\t\t\t\t\thandler.call(this, event);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tdelegate(document.body, '#save-button', 'click', () => {\n\t\tconst tokenInput = document.getElementById('token-input');\n\t\tvscode.postMessage({ type: 'update-token', payload: tokenInput ? tokenInput.value : '' });\n\t});\n\n\tdelegate(document.body, '#preview-button', 'click', () => {\n\t\tupdateState({ pageType: 'PREVIEW' });\n\t});\n\n\tdelegate(document.body, '#validate-button', 'click', () => {\n\t\tconst state = vscode.getState();\n\t\tvscode.postMessage({ type: 'validate-token', payload: state ? state.token : '' });\n\t});\n\n\tdelegate(document.body, '#edit-button', 'click', () => {\n\t\tupdateState({ pageType: 'EDIT' });\n\t});\n\n\tdelegate(document.body, '#clear-button', 'click', () => {\n\t\tvscode.postMessage({ type: 'clear-token' });\n\t});\n\n\tdelegate(document.body, '#welcome-button', 'click', () => {\n\t\tvscode.postMessage({ type: 'welcome-page' });\n\t});\n\n\tconst updatePage = () => {\n\t\tconst { token, pageType, valid, validating } = vscode.getState() || { token: '', preview: 'EDIT', valid: true, validating: true };\n\t\tif (validating) {\n\t\t\tdocument.querySelector('.loading-page').style.display = 'block';\n\t\t\tdocument.querySelector('.preview-page').style.display = 'none';\n\t\t\tdocument.querySelector('.edit-page').style.display = 'none';\n\t\t\treturn;\n\t\t}\n\n\t\tif (pageType === 'EDIT') {\n\t\t\tdocument.querySelector('.loading-page').style.display = 'none';\n\t\t\tdocument.querySelector('.preview-page').style.display = 'none';\n\t\t\tdocument.querySelector('.edit-page').style.display = 'block';\n\t\t\tdocument.querySelector('#preview-button').style.display = (token ? 'block' : 'none');\n\t\t\treturn;\n\t\t}\n\n\t\tdocument.querySelector('.loading-page').style.display = 'none';\n\t\tdocument.querySelector('.edit-page').style.display = 'none';\n\t\tdocument.querySelector('.preview-page').style.display = 'block';\n\t\tdocument.querySelector('.container .token-status .token-status-text').innerText = (valid ? ' VALID' : ' INVALID');\n\t\tdocument.querySelector('#token-text').innerText = token.slice(0, 7) + token.slice(7).replace(/./g, '*');\n\t\tdocument.querySelector('#token-text').style.color = (valid ? '#73c991' : '#f88070');\n\t};\n})();\n\t</script>\n</body>\n</html>\n\t\t`;\n\t}\n}\n"],"sourceRoot":""}