!function(t,e){for(var n in e)t[n]=e[n]}(exports,function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=7)}([function(t,e){t.exports=require("vscode")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getWebviewOptions=e.getNonce=e.prop=e.uniqueId=e.dirname=e.joinPath=e.trimEnd=e.trimStart=e.noop=e.setExtensionContext=e.getExtensionContext=e.throttle=e.reuseable=e.fetch=void 0;const o=n(0);var r=n(3);Object.defineProperty(e,"fetch",{enumerable:!0,get:function(){return r.fetch}});var i=n(4);Object.defineProperty(e,"reuseable",{enumerable:!0,get:function(){return i.reuseable}}),Object.defineProperty(e,"throttle",{enumerable:!0,get:function(){return i.throttle}});var a=n(5);Object.defineProperty(e,"getExtensionContext",{enumerable:!0,get:function(){return a.getExtensionContext}}),Object.defineProperty(e,"setExtensionContext",{enumerable:!0,get:function(){return a.setExtensionContext}});e.noop=()=>{};e.trimStart=(t,e=" ")=>{let n=0;for(;-1!==e.indexOf(t[n]);)n++;return t.slice(n)};e.trimEnd=(t,e=" ")=>{let n=t.length;for(;n&&-1!==e.indexOf(t[n-1]);)n--;return t.slice(0,n)};e.joinPath=(...t)=>t.length?t.reduce((t,n)=>e.trimEnd(t,"/")+"/"+e.trimStart(n,"/")):"";var s;e.dirname=t=>{const n=e.trimEnd(t,"/");return n.substr(0,n.lastIndexOf("/"))||""},e.uniqueId=(s=1,()=>s++);e.prop=(t,e=[])=>{let n=t;return e.forEach(t=>n=n?n[t]:void 0),n};e.getNonce=()=>{let t="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let n=0;n<32;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t};e.getWebviewOptions=t=>({enableScripts:!0,localResourceRoots:[o.Uri.joinPath(t,"assets")]})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateToken=e.readGitHubFile=e.readGitHubDirectory=void 0;const o=n(0),r=n(3),i=t=>{const[e,n,o]=(t.authority||"").split("+").filter(Boolean);return{owner:e,repo:n,branch:o,path:t.path}},a=t=>{if(t instanceof r.RequestRateLimitError){if(!t.token)throw o.FileSystemError.NoPermissions("API Rate Limit Exceeded, Please Offer an OAuth Token.");throw o.FileSystemError.NoPermissions("API Rate Limit Exceeded, Please Change Another OAuth Token.")}if(t instanceof r.RequestInvalidTokenError)throw o.FileSystemError.NoPermissions("Current OAuth Token Is Invalid, Please Change Another One.");if(t instanceof r.RequestNotFoundError)throw o.FileSystemError.NoPermissions("Current OAuth Token Is Invalid, Please Change Another One.");if(t instanceof r.RequestNotFoundError)throw o.FileSystemError.FileNotFound("GitHub Resource Not Found");throw o.FileSystemError.Unavailable(t.message||"Unknown Error Occurred When Request To GitHub")};e.readGitHubDirectory=t=>{const e=i(t);return r.fetch(`https://api.github.com/repos/${e.owner}/${e.repo}/git/trees/${e.branch}${e.path.replace(/^\//,":")}`).catch(a)};e.readGitHubFile=(t,e)=>{const n=i(t);return r.fetch(`https://api.github.com/repos/${n.owner}/${n.repo}/git/blobs/${e}`).catch(a)};e.validateToken=t=>{const e=t?{Authorization:"token "+t}:{};return self.fetch("https://api.github.com",{headers:Object.assign({},e)}).then(e=>({token:!!t,valid:401!==e.status,limit:+e.headers.get("X-RateLimit-Limit")||0,remaining:+e.headers.get("X-RateLimit-Remaining")||0,reset:+e.headers.get("X-RateLimit-Reset")||0})).catch(()=>{throw r.throttledReportNetworkError(),new r.RequestError("Request Failed, Maybe an Network Error",t)})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fetch=e.throttledReportNetworkError=e.RequestInvalidTokenError=e.RequestRateLimitError=e.RequestNotFoundError=e.RequestError=void 0;const o=n(0),r=n(4),i=n(5);class a extends Error{constructor(t,e){super(t),this.token=e,"function"==typeof Object.setPrototypeOf&&Object.setPrototypeOf(this,a.prototype)}}e.RequestError=a;class s extends a{constructor(t,e){super(t,e),"function"==typeof Object.setPrototypeOf&&Object.setPrototypeOf(this,s.prototype)}}e.RequestNotFoundError=s;class u extends a{constructor(t,e){super(t,e),"function"==typeof Object.setPrototypeOf&&Object.setPrototypeOf(this,u.prototype)}}e.RequestRateLimitError=u;class c extends a{constructor(t,e){super(t,e),"function"==typeof Object.setPrototypeOf&&Object.setPrototypeOf(this,c.prototype)}}e.RequestInvalidTokenError=c,e.throttledReportNetworkError=r.throttle(()=>o.window.showErrorMessage("Request Failed, Maybe an Network Error"),5e3);e.fetch=(t,n)=>{const o=(()=>{const t=i.getExtensionContext();return(null==t?void 0:t.globalState.get("github-oauth-token"))||""})(),r=o?{Authorization:"token "+o}:{},d=n&&"headers"in n?n.headers:{};return self.fetch(t,Object.assign(Object.assign({mode:"cors"},n),{headers:Object.assign(Object.assign({},r),d)})).catch(()=>{throw e.throttledReportNetworkError(),new a("Request Failed, Maybe an Network Error",o)}).then(t=>{if(t.status<400)return t.json();if(403===t.status)return t.json().then(t=>{throw new u(t.message,o)});if(401===t.status)return t.json().then(t=>{throw new c(t.message,o)});if(404===t.status)throw new s("Not Found",o);throw new a(`GitHub1s: Request got HTTP ${t.status} response`,o)})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.throttle=e.reuseable=void 0;const o=n(9),r=n(13),i=(...t)=>o([...t]);e.reuseable=(t,e=i)=>{const n=new Map;return function(...o){const i=e(...o);if(n.has(i))return n.get(i);const a=t.call(this,...o);return n.set(i,a),r(a,()=>n.delete(i))}};e.throttle=(t,e)=>{let n=null;return function(...o){n||(t.call(this,...o),n=setTimeout(()=>n=null,e))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getExtensionContext=e.setExtensionContext=void 0;let o=null;e.setExtensionContext=t=>{o=t};e.getExtensionContext=()=>o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.commandClearToken=e.commandUpdateToken=e.commandValidateToken=void 0;const o=n(0),r=n(1),i=n(2);e.commandValidateToken=(t=!1)=>{const e=r.getExtensionContext().globalState.get("github-oauth-token")||"";return i.validateToken(e).then(n=>{if(!t){const t=n.remaining;e?n.valid?n.valid&&n.remaining>0?o.window.showInformationMessage(`Current GitHub OAuth Token is OK, and you can have ${t} requests in the current rate limit window.`):n.valid&&n.remaining<=0&&o.window.showWarningMessage("Current GitHub OAuth Token is Valid, but the rate limit is exceeded."):o.window.showErrorMessage("Current GitHub OAuth Token is invalid."):t>0?o.window.showWarningMessage(`You haven't set a GitHub OAuth Token yet, and you can have ${t} requests in the current rate limit window.`):o.window.showWarningMessage("You haven't set a GitHub OAuth Token yet, and the rate limit is exceeded.")}return n})};e.commandUpdateToken=(t=!1)=>o.window.showInputBox({placeHolder:"Please input the GitHub OAuth Token"}).then(e=>{if(e)return r.getExtensionContext().globalState.update("github-oauth-token",e||"").then(()=>{i.validateToken(e).then(e=>{t||(e.valid?e.remaining<=0?o.window.showWarningMessage("GitHub OAuth Token have updated, but the rate limit is exceeded."):o.window.showInformationMessage("GitHub OAuth Token have updated."):o.window.showErrorMessage("GitHub OAuth Token have updated, but it is invalid.")),e.valid&&e.remaining>0&&o.commands.executeCommand("workbench.files.action.refreshFilesExplorer")})})});e.commandClearToken=(t=!1)=>o.window.showWarningMessage("Would you want to clear the saved GitHub OAuth Token?",{modal:!0},"Confirm").then(e=>"Confirm"===e&&r.getExtensionContext().globalState.update("github-oauth-token","").then(()=>{!t&&o.window.showInformationMessage("You have cleared the saved GitHb OAuth Token.")}).then(()=>!0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.activate=void 0;const o=n(0),r=n(8),i=n(15),a=n(1),s=n(6);e.activate=function(t){a.setExtensionContext(t),t.subscriptions.push(new r.GitHub1sFS),t.subscriptions.push(o.window.registerWebviewViewProvider(i.SettingsView.viewType,new i.SettingsView)),t.subscriptions.push(o.commands.registerCommand("github1s.validate-token",s.commandValidateToken)),t.subscriptions.push(o.commands.registerCommand("github1s.update-token",s.commandUpdateToken)),t.subscriptions.push(o.commands.registerCommand("github1s.clear-token",s.commandClearToken))}},function(t,e,n){"use strict";var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function a(t){try{u(o.next(t))}catch(t){i(t)}}function s(t){try{u(o.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((o=o.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.GitHub1sFS=e.Directory=e.File=void 0;const r=n(0),i=n(1),a=n(2),s=n(14);class u{constructor(t,e,n){this.uri=t,this.type=r.FileType.File,this.ctime=Date.now(),this.mtime=Date.now(),this.name=e,this.sha=n&&"sha"in n?n.sha:"",this.size=n&&"size"in n?n.size:0,this.data=n&&"data"in n?n.data:null}}e.File=u;class c{constructor(t,e,n){this.uri=t,this.type=r.FileType.Directory,this.ctime=Date.now(),this.mtime=Date.now(),this.size=0,this.name=e,this.entries=null,this.sha=n&&"sha"in n?n.sha:"",this.size=n&&"size"in n?n.size:0}}e.Directory=c;class d{constructor(){this._emitter=new r.EventEmitter,this.root=null,this.onDidChangeFile=this._emitter.event,this.readDirectory=i.reuseable(t=>{if(!t.authority)throw r.FileSystemError.FileNotFound(t);return this._lookupAsDirectory(t,!1).then(e=>{if(null!==e.entries){const t=Array.from(e.entries.values()).map(t=>[t.name,t instanceof c?r.FileType.Directory:r.FileType.File]);return Promise.resolve(t)}return a.readGitHubDirectory(t).then(n=>(e.entries=new Map,n.tree.map(n=>{const o="tree"===n.type?r.FileType.Directory:r.FileType.File;return e.entries.set(n.path,o===r.FileType.Directory?new c(t,n.path,{sha:n.sha}):new u(t,n.path,{sha:n.sha,size:n.size})),[n.path,o]})))})},t=>t.toString()),this.readFile=i.reuseable(t=>{if(!t.authority)throw r.FileSystemError.FileNotFound(t);return this._lookupAsFile(t,!1).then(e=>null!==e.data?e.data:a.readGitHubFile(t,e.sha).then(t=>(e.data=s.toUint8Array(t.content),e.data)))},t=>t.toString()),this.disposable=r.Disposable.from(r.workspace.registerFileSystemProvider(d.scheme,this,{isCaseSensitive:!0,isReadonly:!0}))}dispose(){var t;null===(t=this.disposable)||void 0===t||t.dispose()}_lookup(t,e){return o(this,void 0,void 0,(function*(){let n=t.path.split("/").filter(Boolean),o=this.root||(this.root=new c(t.with({path:"/"}),""));for(const i of n){let n;if(o instanceof c&&(null===o.entries&&(yield this.readDirectory(r.Uri.joinPath(o.uri,o.name))),n=o.entries.get(i)),!n){if(e)return;throw r.FileSystemError.FileNotFound(t)}o=n}return o}))}_lookupAsDirectory(t,e){return o(this,void 0,void 0,(function*(){const n=yield this._lookup(t,e);if(n instanceof c)return n;if(!e)throw r.FileSystemError.FileNotADirectory(t)}))}_lookupAsFile(t,e){return o(this,void 0,void 0,(function*(){const n=yield this._lookup(t,e);if(n instanceof u)return n;if(!e)throw r.FileSystemError.FileIsADirectory(t)}))}_lookupParentDirectory(t){const e=t.with({path:i.dirname(t.path)});return this._lookupAsDirectory(e,!1)}watch(t,e){return new r.Disposable(i.noop)}stat(t){return this._lookup(t,!1)}createDirectory(t){return Promise.resolve()}writeFile(t,e,n){return Promise.resolve()}delete(t,e){return Promise.resolve()}rename(t,e,n){return Promise.resolve()}copy(t,e,n){return Promise.resolve()}}e.GitHub1sFS=d,d.scheme="github1s"},function(t,e,n){var o="undefined"!=typeof JSON?JSON:n(10);t.exports=function(t,e){e||(e={}),"function"==typeof e&&(e={cmp:e});var n=e.space||"";"number"==typeof n&&(n=Array(n+1).join(" "));var a,s="boolean"==typeof e.cycles&&e.cycles,u=e.replacer||function(t,e){return e},c=e.cmp&&(a=e.cmp,function(t){return function(e,n){var o={key:e,value:t[e]},r={key:n,value:t[n]};return a(o,r)}}),d=[];return function t(e,a,l,p){var h=n?"\n"+new Array(p+1).join(n):"",f=n?": ":":";if(l&&l.toJSON&&"function"==typeof l.toJSON&&(l=l.toJSON()),void 0!==(l=u.call(e,a,l))){if("object"!=typeof l||null===l)return o.stringify(l);if(r(l)){for(var g=[],b=0;b<l.length;b++){var v=t(l,b,l[b],p+1)||o.stringify(null);g.push(h+n+v)}return"["+g.join(",")+h+"]"}if(-1!==d.indexOf(l)){if(s)return o.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}d.push(l);var y=i(l).sort(c&&c(l));for(g=[],b=0;b<y.length;b++){var m=t(l,a=y[b],l[a],p+1);if(m){var w=o.stringify(a)+f+m;g.push(h+n+w)}}return d.splice(d.indexOf(l),1),"{"+g.join(",")+h+"}"}}({"":t},"",t,0)};var r=Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},i=Object.keys||function(t){var e=Object.prototype.hasOwnProperty||function(){return!0},n=[];for(var o in t)e.call(t,o)&&n.push(o);return n}},function(t,e,n){e.parse=n(11),e.stringify=n(12)},function(t,e){var n,o,r,i,a={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},s=function(t){throw{name:"SyntaxError",message:t,at:n,text:r}},u=function(t){return t&&t!==o&&s("Expected '"+t+"' instead of '"+o+"'"),o=r.charAt(n),n+=1,o},c=function(){var t,e="";for("-"===o&&(e="-",u("-"));o>="0"&&o<="9";)e+=o,u();if("."===o)for(e+=".";u()&&o>="0"&&o<="9";)e+=o;if("e"===o||"E"===o)for(e+=o,u(),"-"!==o&&"+"!==o||(e+=o,u());o>="0"&&o<="9";)e+=o,u();if(t=+e,isFinite(t))return t;s("Bad number")},d=function(){var t,e,n,r="";if('"'===o)for(;u();){if('"'===o)return u(),r;if("\\"===o)if(u(),"u"===o){for(n=0,e=0;e<4&&(t=parseInt(u(),16),isFinite(t));e+=1)n=16*n+t;r+=String.fromCharCode(n)}else{if("string"!=typeof a[o])break;r+=a[o]}else r+=o}s("Bad string")},l=function(){for(;o&&o<=" ";)u()};i=function(){switch(l(),o){case"{":return function(){var t,e={};if("{"===o){if(u("{"),l(),"}"===o)return u("}"),e;for(;o;){if(t=d(),l(),u(":"),Object.hasOwnProperty.call(e,t)&&s('Duplicate key "'+t+'"'),e[t]=i(),l(),"}"===o)return u("}"),e;u(","),l()}}s("Bad object")}();case"[":return function(){var t=[];if("["===o){if(u("["),l(),"]"===o)return u("]"),t;for(;o;){if(t.push(i()),l(),"]"===o)return u("]"),t;u(","),l()}}s("Bad array")}();case'"':return d();case"-":return c();default:return o>="0"&&o<="9"?c():function(){switch(o){case"t":return u("t"),u("r"),u("u"),u("e"),!0;case"f":return u("f"),u("a"),u("l"),u("s"),u("e"),!1;case"n":return u("n"),u("u"),u("l"),u("l"),null}s("Unexpected '"+o+"'")}()}},t.exports=function(t,e){var a;return r=t,n=0,o=" ",a=i(),l(),o&&s("Syntax error"),"function"==typeof e?function t(n,o){var r,i,a=n[o];if(a&&"object"==typeof a)for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(void 0!==(i=t(a,r))?a[r]=i:delete a[r]);return e.call(n,o,a)}({"":a},""):a}},function(t,e){var n,o,r,i=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function s(t){return i.lastIndex=0,i.test(t)?'"'+t.replace(i,(function(t){var e=a[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+t+'"'}t.exports=function(t,e,i){var a;if(n="",o="","number"==typeof i)for(a=0;a<i;a+=1)o+=" ";else"string"==typeof i&&(o=i);if(r=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return function t(e,i){var a,u,c,d,l,p=n,h=i[e];switch(h&&"object"==typeof h&&"function"==typeof h.toJSON&&(h=h.toJSON(e)),"function"==typeof r&&(h=r.call(i,e,h)),typeof h){case"string":return s(h);case"number":return isFinite(h)?String(h):"null";case"boolean":case"null":return String(h);case"object":if(!h)return"null";if(n+=o,l=[],"[object Array]"===Object.prototype.toString.apply(h)){for(d=h.length,a=0;a<d;a+=1)l[a]=t(a,h)||"null";return c=0===l.length?"[]":n?"[\n"+n+l.join(",\n"+n)+"\n"+p+"]":"["+l.join(",")+"]",n=p,c}if(r&&"object"==typeof r)for(d=r.length,a=0;a<d;a+=1)"string"==typeof(u=r[a])&&(c=t(u,h))&&l.push(s(u)+(n?": ":":")+c);else for(u in h)Object.prototype.hasOwnProperty.call(h,u)&&(c=t(u,h))&&l.push(s(u)+(n?": ":":")+c);return c=0===l.length?"{}":n?"{\n"+n+l.join(",\n"+n)+"\n"+p+"}":"{"+l.join(",")+"}",n=p,c}}("",{"":t})}},function(t,e,n){"use strict";t.exports=async(t,e=(()=>{}))=>{let n;try{n=await t}catch(t){throw await e(),t}return await e(),n}},function(t,e,n){"use strict";n.r(e),n.d(e,"version",(function(){return o})),n.d(e,"VERSION",(function(){return r})),n.d(e,"atob",(function(){return j})),n.d(e,"atobPolyfill",(function(){return C})),n.d(e,"btoa",(function(){return y})),n.d(e,"btoaPolyfill",(function(){return v})),n.d(e,"fromBase64",(function(){return q})),n.d(e,"toBase64",(function(){return E})),n.d(e,"utob",(function(){return S})),n.d(e,"encode",(function(){return E})),n.d(e,"encodeURI",(function(){return T})),n.d(e,"encodeURL",(function(){return T})),n.d(e,"btou",(function(){return P})),n.d(e,"decode",(function(){return q})),n.d(e,"isValid",(function(){return M})),n.d(e,"fromUint8Array",(function(){return w})),n.d(e,"toUint8Array",(function(){return R})),n.d(e,"extendString",(function(){return B})),n.d(e,"extendUint8Array",(function(){return H})),n.d(e,"extendBuiltins",(function(){return U})),n.d(e,"Base64",(function(){return G}));const o="3.6.0",r=o,i="function"==typeof atob,a="function"==typeof btoa,s="function"==typeof Buffer,u="function"==typeof TextDecoder?new TextDecoder:void 0,c="function"==typeof TextEncoder?new TextEncoder:void 0,d=[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],l=(t=>{let e={};return t.forEach((t,n)=>e[t]=n),e})(d),p=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,h=String.fromCharCode.bind(String),f="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):(t,e=(t=>t))=>new Uint8Array(Array.prototype.slice.call(t,0).map(e)),g=t=>t.replace(/[+\/]/g,t=>"+"==t?"-":"_").replace(/=+$/m,""),b=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),v=t=>{let e,n,o,r,i="";const a=t.length%3;for(let a=0;a<t.length;){if((n=t.charCodeAt(a++))>255||(o=t.charCodeAt(a++))>255||(r=t.charCodeAt(a++))>255)throw new TypeError("invalid character found");e=n<<16|o<<8|r,i+=d[e>>18&63]+d[e>>12&63]+d[e>>6&63]+d[63&e]}return a?i.slice(0,a-3)+"===".substring(a):i},y=a?t=>btoa(t):s?t=>Buffer.from(t,"binary").toString("base64"):v,m=s?t=>Buffer.from(t).toString("base64"):t=>{let e=[];for(let n=0,o=t.length;n<o;n+=4096)e.push(h.apply(null,t.subarray(n,n+4096)));return y(e.join(""))},w=(t,e=!1)=>e?g(m(t)):m(t),k=t=>{if(t.length<2)return(e=t.charCodeAt(0))<128?t:e<2048?h(192|e>>>6)+h(128|63&e):h(224|e>>>12&15)+h(128|e>>>6&63)+h(128|63&e);var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return h(240|e>>>18&7)+h(128|e>>>12&63)+h(128|e>>>6&63)+h(128|63&e)},x=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,S=t=>t.replace(x,k),O=s?t=>Buffer.from(t,"utf8").toString("base64"):c?t=>m(c.encode(t)):t=>y(S(t)),E=(t,e=!1)=>e?g(O(t)):O(t),T=t=>E(t,!0),A=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,F=t=>{switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return h(55296+(e>>>10))+h(56320+(1023&e));case 3:return h((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return h((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},P=t=>t.replace(A,F),C=t=>{if(t=t.replace(/\s+/g,""),!p.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(3&t.length));let e,n,o,r="";for(let i=0;i<t.length;)e=l[t.charAt(i++)]<<18|l[t.charAt(i++)]<<12|(n=l[t.charAt(i++)])<<6|(o=l[t.charAt(i++)]),r+=64===n?h(e>>16&255):64===o?h(e>>16&255,e>>8&255):h(e>>16&255,e>>8&255,255&e);return r},j=i?t=>atob(b(t)):s?t=>Buffer.from(t,"base64").toString("binary"):C,_=s?t=>f(Buffer.from(t,"base64")):t=>f(j(t),t=>t.charCodeAt(0)),R=t=>_(I(t)),D=s?t=>Buffer.from(t,"base64").toString("utf8"):u?t=>u.decode(_(t)):t=>P(j(t)),I=t=>b(t.replace(/[-_]/g,t=>"-"==t?"+":"/")),q=t=>D(I(t)),M=t=>{if("string"!=typeof t)return!1;const e=t.replace(/\s+/g,"").replace(/=+$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)},N=t=>({value:t,enumerable:!1,writable:!0,configurable:!0}),B=function(){const t=(t,e)=>Object.defineProperty(String.prototype,t,N(e));t("fromBase64",(function(){return q(this)})),t("toBase64",(function(t){return E(this,t)})),t("toBase64URI",(function(){return E(this,!0)})),t("toBase64URL",(function(){return E(this,!0)})),t("toUint8Array",(function(){return R(this)}))},H=function(){const t=(t,e)=>Object.defineProperty(Uint8Array.prototype,t,N(e));t("toBase64",(function(t){return w(this,t)})),t("toBase64URI",(function(){return w(this,!0)})),t("toBase64URL",(function(){return w(this,!0)}))},U=()=>{B(),H()},G={version:o,VERSION:r,atob:j,atobPolyfill:C,btoa:y,btoaPolyfill:v,fromBase64:q,toBase64:E,encode:E,encodeURI:T,encodeURL:T,utob:S,btou:P,decode:q,isValid:M,fromUint8Array:w,toUint8Array:R,extendString:B,extendUint8Array:H,extendBuiltins:U}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SettingsView=void 0;const o=n(0),r=n(1),i=n(6),a=n(2);class s{constructor(){this._extensionContext=r.getExtensionContext()}resolveWebviewView(t,e,n){this._webviewView=t,t.webview.options=r.getWebviewOptions(this._extensionContext.extensionUri),t.webview.html=this._getHtmlForWebview(t.webview),t.webview.onDidReceiveMessage(t=>{switch(t.type){case"validate-token":this.handleValidateToken(t.payload);break;case"update-token":this.handleUpdateToken(t.payload);break;case"clear-token":i.commandClearToken().then(t=>{t&&this.updateWebviewState({token:"",pageType:"EDIT",valid:!1,validating:!1})});break;case"welcome-page":o.commands.executeCommand("workbench.action.showWelcomePage");break;default:const e=this._extensionContext.globalState.get("github-oauth-token")||"";(e?a.validateToken(e).then(t=>t.valid&&t.remaining>0):Promise.resolve(!1)).then(t=>{this.updateWebviewState({token:e,pageType:e?"PREVIEW":"EDIT",valid:t,validating:!1})})}})}updateWebviewState(t){this._webviewView.webview.postMessage({type:"update-state",payload:t})}handleValidateToken(t){this.updateWebviewState({validating:!0}),a.validateToken(t).then(t=>{t.valid?t.remaining<=0?o.window.showWarningMessage("This GitHub OAuth Token is valid, but the rate limit is exceeded."):o.window.showInformationMessage("This GitHub OAuth Token is OK."):o.window.showErrorMessage("This GitHub OAuth Token is invalid."),this.updateWebviewState({valid:t.valid&&t.remaining>0,validating:!1})}).catch(()=>this.updateWebviewState({valid:!1,validating:!1}))}handleUpdateToken(t){t&&(this.updateWebviewState({validating:!0}),a.validateToken(t).then(e=>{e.valid?e.remaining<=0?(this.updateWebviewState({pageType:"EDIT",validating:!1}),o.window.showWarningMessage("This GitHub OAuth Token is valid, but the rate limit is exceeded.")):(this.updateWebviewState({token:t,valid:!0,pageType:"PREVIEW",validating:!1}),this._extensionContext.globalState.update("github-oauth-token",t||"").then(()=>{o.commands.executeCommand("workbench.files.action.refreshFilesExplorer")})):(this.updateWebviewState({pageType:"EDIT",validating:!1}),o.window.showErrorMessage("This GitHub OAuth Token is invalid."))}).catch(()=>this.updateWebviewState({token:t,validating:!1})))}_getHtmlForWebview(t){const e=r.getNonce();return`\n<!DOCTYPE html>\n<html lang="en">\n<head>\n\t<meta charset="UTF-8">\n\t<meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src 'nonce-${e}'; script-src 'nonce-${e}';">\n\t<meta name="viewport" content="width=device-width, initial-scale=1.0">\n\t<title>GitHub1s Settings</title>\n\t<style nonce="${e}">\nhtml {\n\tbox-sizing: border-box;\n\tfont-size: 13px;\n}\n\n*,\n*:before,\n*:after {\n\tbox-sizing: inherit;\n}\n\nbody, h1, h2, h3, h4, h5, h6, p, ol, ul {\n\tmargin: 0;\n\tpadding: 0;\n\tfont-weight: normal;\n}\n\nbody {\n\tbackground-color: transparent;\n}\n\ninput {\n\tdisplay: block;\n\twidth: 100%;\n\theight: 24px;\n\tborder: none;\n\tmargin-bottom: 10px;\n\tpadding-left: 4px;\n\tpadding-right: 4px;\n\tfont-family: var(--vscode-font-family);\n\tcolor: var(--vscode-input-foreground);\n\toutline-color: var(--vscode-input-border);\n\tbackground-color: var(--vscode-input-background);\n}\n\nbutton {\n\tborder: none;\n\twidth: 100%;\n\theight: 26px;\n\tmargin-bottom: 10px;\n\tpadding: var(--input-padding-vertical) var(--input-padding-horizontal);\n\ttext-align: center;\n\toutline: 1px solid transparent;\n\toutline-offset: 2px !important;\n\tcolor: var(--vscode-button-foreground);\n\tbackground: var(--vscode-button-background);\n}\n\nbutton:hover {\n\tcursor: pointer;\n\tbackground: var(--vscode-button-hoverBackground);\n}\n\nbutton:focus {\n\toutline-color: var(--vscode-focusBorder);\n}\n\nbutton.secondary {\n\tcolor: var(--vscode-button-secondaryForeground);\n\tbackground: var(--vscode-button-secondaryBackground);\n}\n\nbutton.secondary:hover {\n\tbackground: var(--vscode-button-secondaryHoverBackground);\n}\n\n.loading-page {\n\twidth: 50px;\n\theight: 40px;\n\tmargin: 60px auto;\n\ttext-align: center;\n}\n\n.loading-page span {\n\twidth: 5px;\n\theight: 100%;\n\tmargin-right: 4px;\n\tdisplay: inline-block;\n\tbackground:#2b6298;\n\tanimation: loading 1.2s infinite ease-in-out;\n\t-webkit-animation: loading 1.2s infinite ease-in-out;\n}\n\n.loading-page >span:nth-child(2) {\n\t-webkit-animation-delay: -1.0s;\n\tanimation-delay: -1.0s;\n}\n\n.loading-page >span:nth-child(3) {\n\t-webkit-animation-delay: -0.9s;\n\tanimation-delay: -0.9s;\n}\n\n.loading-page >span:nth-child(4) {\n\t-webkit-animation-delay: -0.8s;\n\tanimation-delay: -0.8s;\n}\n\n.loading-page >span:nth-child(5) {\n\t-webkit-animation-delay: -0.7s;\n\tanimation-delay: -0.7s;\n}\n\n@keyframes loading {\n\t0% { transform: scaleY(0.4); }\n\t25% { transform: scaleY(1.0); }\n\t50% { transform: scaleY(0.4); }\n\t75% { transform: scaleY(0.4); }\n\t100% { transform: scaleY(0.4); }\n}\n\n.preview-page, .edit-page {\n\tdisplay: none;\n}\n\n.container {\n\tpadding: 10px;\n}\n\n.container .token-invalid {\n\tdisplay: none;\n}\n\n.page-title {\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tmargin-bottom: 10px;\n}\n\n.description {\n\tmargin-bottom: 10px;\n}\n\n.description div {\n\tmargin-bottom: 5px;\n}\n\n.description div:last-child {\n\tmargin-bottom: 0;\n}\n\n.token-link {\n\tmargin-bottom: 10px;\n}\n\t</style>\n</head>\n<body>\n\t<div class="loading-page">\n\t\t<span></span><span></span><span></span><span></span><span></span>\n\t</div>\n\t<div class="container edit-page">\n\t\t<div class="page-title">Set OAuth Token</div>\n\t\t<div class="description">\n\t\t\t<div>For unauthenticated requests, the rate limit of GitHub allows for up to 60 requests per hour.</div>\n\t\t\t<div>For API requests using Authentication, you can make up to 5,000 requests per hour.</div>\n\t\t</div>\n\t\t<div class="token-link">\n\t\t\t<a href="https://github.com/settings/tokens/new?scopes=repo&description=GitHub1s" target="_blank">\n\t\t\t\tGenerate New OAuth Token\n\t\t\t</a>\n\t\t</div>\n\t\t<div><input id="token-input" name="token" autocomplete="off" /></div>\n\t\t<div><button id="save-button">Save</button></div>\n\t\t<div><button id="preview-button">Cancel</button></div>\n\t</div>\n\t<div class="container preview-page">\n\t\t<div class="page-title">You have authenticated</div>\n\t\t<div class="description">\n\t\t\t<div class="token-status">\n\t\t\t\tCurrent OAuth Token is <span class="token-status-text"> ...</span>.\n\t\t\t</div>\n\t\t\t<div id="token-text"></div>\n\t\t</div>\n\t\t<div><button id="welcome-button">Detail</button></div>\n\t\t<div><button id="validate-button">Validate</button></div>\n\t\t<div><button id="edit-button">Edit</button></div>\n\t\t<div><button id="clear-button">Clear</button></div>\n\t</div>\n\t<script nonce="${e}">\n(function () {\n\tconst vscode = acquireVsCodeApi();\n\n\tconst updateState = (state) => {\n\t\tconst prevState = vscode.getState();\n\t\tvscode.setState({ ...prevState, ...state });\n\t\tupdatePage();\n\t};\n\n\twindow.addEventListener('message', ({ data }) => {\n\t\tif (data && data.type === 'update-state') {\n\t\t\tupdateState(data.payload);\n\t\t}\n\t});\n\tvscode.postMessage({ type: 'initialization', payload: null });\n\n\tconst delegate = (element, selector, eventName, handler) => {\n\t\tif (!element) return null;\n\t\telement.addEventListener(eventName, function (event) {\n\t\t\tconst children = element.querySelectorAll(selector);\n\t\t\tfor (let i = 0, len = children.length; i < len; i++) {\n\t\t\t\tif (children[i] === event.target) {\n\t\t\t\t\thandler.call(this, event);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tdelegate(document.body, '#save-button', 'click', () => {\n\t\tconst tokenInput = document.getElementById('token-input');\n\t\tvscode.postMessage({ type: 'update-token', payload: tokenInput ? tokenInput.value : '' });\n\t});\n\n\tdelegate(document.body, '#preview-button', 'click', () => {\n\t\tupdateState({ pageType: 'PREVIEW' });\n\t});\n\n\tdelegate(document.body, '#validate-button', 'click', () => {\n\t\tconst state = vscode.getState();\n\t\tvscode.postMessage({ type: 'validate-token', payload: state ? state.token : '' });\n\t});\n\n\tdelegate(document.body, '#edit-button', 'click', () => {\n\t\tupdateState({ pageType: 'EDIT' });\n\t});\n\n\tdelegate(document.body, '#clear-button', 'click', () => {\n\t\tvscode.postMessage({ type: 'clear-token' });\n\t});\n\n\tdelegate(document.body, '#welcome-button', 'click', () => {\n\t\tvscode.postMessage({ type: 'welcome-page' });\n\t});\n\n\tconst updatePage = () => {\n\t\tconst { token, pageType, valid, validating } = vscode.getState() || { token: '', preview: 'EDIT', valid: true, validating: true };\n\t\tif (validating) {\n\t\t\tdocument.querySelector('.loading-page').style.display = 'block';\n\t\t\tdocument.querySelector('.preview-page').style.display = 'none';\n\t\t\tdocument.querySelector('.edit-page').style.display = 'none';\n\t\t\treturn;\n\t\t}\n\n\t\tif (pageType === 'EDIT') {\n\t\t\tdocument.querySelector('.loading-page').style.display = 'none';\n\t\t\tdocument.querySelector('.preview-page').style.display = 'none';\n\t\t\tdocument.querySelector('.edit-page').style.display = 'block';\n\t\t\tdocument.querySelector('#preview-button').style.display = (token ? 'block' : 'none');\n\t\t\treturn;\n\t\t}\n\n\t\tdocument.querySelector('.loading-page').style.display = 'none';\n\t\tdocument.querySelector('.edit-page').style.display = 'none';\n\t\tdocument.querySelector('.preview-page').style.display = 'block';\n\t\tdocument.querySelector('.container .token-status .token-status-text').innerText = (valid ? ' VALID' : ' INVALID');\n\t\tdocument.querySelector('#token-text').innerText = token.slice(0, 7) + token.slice(7).replace(/./g, '*');\n\t\tdocument.querySelector('#token-text').style.color = (valid ? '#73c991' : '#f88070');\n\t};\n})();\n\t<\/script>\n</body>\n</html>\n\t\t`}}e.SettingsView=s,s.viewType="github1s-settings"}]));
//# sourceMappingURL=extension.js.map